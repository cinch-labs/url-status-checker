import{readFile as n}from"./lib/file";import{isInputFileValid as o}from"./lib/schema";import*as i from"@actions/core";import*as r from"./lib/types";import{checkAllLinks as a}from"./lib/link";async function f(){try{const e=i.getInput("file");if(console.log(`Reading links file at: ${e}`),!e){const s="The 'file' input parameter was not provided";i.setFailed(s);return}const t=n(e);if(r.isError(t)){i.setFailed(`Couldn't read file: ${t.message}`);return}if(!o(t)){i.setFailed("Input file was not valid");return}const l=await a(t.links);for(const s of l)s.success?i.info(`PASS - ${s.url}`):i.info(`FAIL - ${s.url}`)}catch(e){i.setFailed(e.message)}}f();
