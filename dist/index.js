require('./sourcemap-register.js');(()=>{var __webpack_modules__={7351:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(2087));const s=r(5278);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+o.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const a="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=a+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${a}${escapeData(this.message)}`;return e}}function escapeData(e){return s.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return s.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const s=r(7351);const a=r(717);const i=r(5278);const c=o(r(2087));const u=o(r(5622));var l;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(l=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=i.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${c.EOL}${r}${c.EOL}${t}`;a.issueCommand("ENV",n)}else{s.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){s.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){a.issueCommand("PATH",e)}else{s.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${u.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}return r.trim()}t.getInput=getInput;function setOutput(e,t){process.stdout.write(c.EOL);s.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){s.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=l.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){s.issueCommand("debug",{},e)}t.debug=debug;function error(e){s.issue("error",e instanceof Error?e.toString():e)}t.error=error;function warning(e){s.issue("warning",e instanceof Error?e.toString():e)}t.warning=warning;function info(e){process.stdout.write(e+c.EOL)}t.info=info;function startGroup(e){s.issue("group",e)}t.startGroup=startGroup;function endGroup(){s.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return n(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){s.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState},717:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(5747));const s=n(r(2087));const a=r(5278);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!o.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}o.appendFileSync(r,`${a.toCommandValue(t)}${s.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},5278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue},2426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(2685);const o=r(691);const s=r(4025);const a=r(278);const i=["/properties"];const c="http://json-schema.org/draft-07/schema";class Ajv extends n.default{_addVocabularies(){super._addVocabularies();o.default.forEach((e=>this.addVocabulary(e)));if(this.opts.discriminator)this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();if(!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(e,c,false);this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:undefined)}}e.exports=t=Ajv;Object.defineProperty(t,"__esModule",{value:true});t.default=Ajv;var u=r(8955);Object.defineProperty(t,"KeywordCxt",{enumerable:true,get:function(){return u.KeywordCxt}});var l=r(9179);Object.defineProperty(t,"_",{enumerable:true,get:function(){return l._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return l.str}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return l.stringify}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return l.nil}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return l.Name}});Object.defineProperty(t,"CodeGen",{enumerable:true,get:function(){return l.CodeGen}})},8358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class _CodeOrName{}t._CodeOrName=_CodeOrName;t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class Name extends _CodeOrName{constructor(e){super();if(!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return false}get names(){return{[this.str]:1}}}t.Name=Name;class _Code extends _CodeOrName{constructor(e){super();this._items=typeof e==="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return false;const e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce(((e,t)=>{if(t instanceof Name)e[t.str]=(e[t.str]||0)+1;return e}),{})}}t._Code=_Code;t.nil=new _Code("");function _(e,...t){const r=[e[0]];let n=0;while(n<t.length){addCodeArg(r,t[n]);r.push(e[++n])}return new _Code(r)}t._=_;const r=new _Code("+");function str(e,...t){const n=[safeStringify(e[0])];let o=0;while(o<t.length){n.push(r);addCodeArg(n,t[o]);n.push(r,safeStringify(e[++o]))}optimize(n);return new _Code(n)}t.str=str;function addCodeArg(e,t){if(t instanceof _Code)e.push(...t._items);else if(t instanceof Name)e.push(t);else e.push(interpolate(t))}t.addCodeArg=addCodeArg;function optimize(e){let t=1;while(t<e.length-1){if(e[t]===r){const r=mergeExprItems(e[t-1],e[t+1]);if(r!==undefined){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function mergeExprItems(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string"){if(t instanceof Name||e[e.length-1]!=='"')return;if(typeof t!="string")return`${e.slice(0,-1)}${t}"`;if(t[0]==='"')return e.slice(0,-1)+t.slice(1);return}if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Name))return`"${e}${t.slice(1)}`;return}function strConcat(e,t){return t.emptyStr()?e:e.emptyStr()?t:str`${e}${t}`}t.strConcat=strConcat;function interpolate(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:safeStringify(Array.isArray(e)?e.join(","):e)}function stringify(e){return new _Code(safeStringify(e))}t.stringify=stringify;function safeStringify(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=safeStringify;function getProperty(e){return typeof e=="string"&&t.IDENTIFIER.test(e)?new _Code(`.${e}`):_`[${e}]`}t.getProperty=getProperty;function regexpCode(e){return new _Code(e.toString())}t.regexpCode=regexpCode},9179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(8358);const o=r(2893);var s=r(8358);Object.defineProperty(t,"_",{enumerable:true,get:function(){return s._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return s.str}});Object.defineProperty(t,"strConcat",{enumerable:true,get:function(){return s.strConcat}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return s.nil}});Object.defineProperty(t,"getProperty",{enumerable:true,get:function(){return s.getProperty}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return s.stringify}});Object.defineProperty(t,"regexpCode",{enumerable:true,get:function(){return s.regexpCode}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return s.Name}});var a=r(2893);Object.defineProperty(t,"Scope",{enumerable:true,get:function(){return a.Scope}});Object.defineProperty(t,"ValueScope",{enumerable:true,get:function(){return a.ValueScope}});Object.defineProperty(t,"ValueScopeName",{enumerable:true,get:function(){return a.ValueScopeName}});Object.defineProperty(t,"varKinds",{enumerable:true,get:function(){return a.varKinds}});t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class Node{optimizeNodes(){return this}optimizeNames(e,t){return this}}class Def extends Node{constructor(e,t,r){super();this.varKind=e;this.name=t;this.rhs=r}render({es5:e,_n:t}){const r=e?o.varKinds.var:this.varKind;const n=this.rhs===undefined?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(!e[this.name.str])return;if(this.rhs)this.rhs=optimizeExpr(this.rhs,e,t);return this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class Assign extends Node{constructor(e,t,r){super();this.lhs=e;this.rhs=t;this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(this.lhs instanceof n.Name&&!e[this.lhs.str]&&!this.sideEffects)return;this.rhs=optimizeExpr(this.rhs,e,t);return this}get names(){const e=this.lhs instanceof n.Name?{}:{...this.lhs.names};return addExprNames(e,this.rhs)}}class AssignOp extends Assign{constructor(e,t,r,n){super(e,r,n);this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class Label extends Node{constructor(e){super();this.label=e;this.names={}}render({_n:e}){return`${this.label}:`+e}}class Break extends Node{constructor(e){super();this.label=e;this.names={}}render({_n:e}){const t=this.label?` ${this.label}`:"";return`break${t};`+e}}class Throw extends Node{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class AnyCode extends Node{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:undefined}optimizeNames(e,t){this.code=optimizeExpr(this.code,e,t);return this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class ParentNode extends Node{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;while(t--){const r=e[t].optimizeNodes();if(Array.isArray(r))e.splice(t,1,...r);else if(r)e[t]=r;else e.splice(t,1)}return e.length>0?this:undefined}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;while(n--){const o=r[n];if(o.optimizeNames(e,t))continue;subtractNames(e,o.names);r.splice(n,1)}return r.length>0?this:undefined}get names(){return this.nodes.reduce(((e,t)=>addNames(e,t.names)),{})}}class BlockNode extends ParentNode{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class Root extends ParentNode{}class Else extends BlockNode{}Else.kind="else";class If extends BlockNode{constructor(e,t){super(t);this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);if(this.else)t+="else "+this.else.render(e);return t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(e===true)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new Else(e):e}if(t){if(e===false)return t instanceof If?t:t.nodes;if(this.nodes.length)return this;return new If(not(e),t instanceof If?[t]:t.nodes)}if(e===false||!this.nodes.length)return undefined;return this}optimizeNames(e,t){var r;this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,t);if(!(super.optimizeNames(e,t)||this.else))return;this.condition=optimizeExpr(this.condition,e,t);return this}get names(){const e=super.names;addExprNames(e,this.condition);if(this.else)addNames(e,this.else.names);return e}}If.kind="if";class For extends BlockNode{}For.kind="for";class ForLoop extends For{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(!super.optimizeNames(e,t))return;this.iteration=optimizeExpr(this.iteration,e,t);return this}get names(){return addNames(super.names,this.iteration.names)}}class ForRange extends For{constructor(e,t,r,n){super();this.varKind=e;this.name=t;this.from=r;this.to=n}render(e){const t=e.es5?o.varKinds.var:this.varKind;const{name:r,from:n,to:s}=this;return`for(${t} ${r}=${n}; ${r}<${s}; ${r}++)`+super.render(e)}get names(){const e=addExprNames(super.names,this.from);return addExprNames(e,this.to)}}class ForIter extends For{constructor(e,t,r,n){super();this.loop=e;this.varKind=t;this.name=r;this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(!super.optimizeNames(e,t))return;this.iterable=optimizeExpr(this.iterable,e,t);return this}get names(){return addNames(super.names,this.iterable.names)}}class Func extends BlockNode{constructor(e,t,r){super();this.name=e;this.args=t;this.async=r}render(e){const t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}Func.kind="func";class Return extends ParentNode{render(e){return"return "+super.render(e)}}Return.kind="return";class Try extends BlockNode{render(e){let t="try"+super.render(e);if(this.catch)t+=this.catch.render(e);if(this.finally)t+=this.finally.render(e);return t}optimizeNodes(){var e,t;super.optimizeNodes();(e=this.catch)===null||e===void 0?void 0:e.optimizeNodes();(t=this.finally)===null||t===void 0?void 0:t.optimizeNodes();return this}optimizeNames(e,t){var r,n;super.optimizeNames(e,t);(r=this.catch)===null||r===void 0?void 0:r.optimizeNames(e,t);(n=this.finally)===null||n===void 0?void 0:n.optimizeNames(e,t);return this}get names(){const e=super.names;if(this.catch)addNames(e,this.catch.names);if(this.finally)addNames(e,this.finally.names);return e}}class Catch extends BlockNode{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}Catch.kind="catch";class Finally extends BlockNode{render(e){return"finally"+super.render(e)}}Finally.kind="finally";class CodeGen{constructor(e,t={}){this._values={};this._blockStarts=[];this._constants={};this.opts={...t,_n:t.lines?"\n":""};this._extScope=e;this._scope=new o.Scope({parent:e});this._nodes=[new Root]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);const n=this._values[r.prefix]||(this._values[r.prefix]=new Set);n.add(r);return r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const o=this._scope.toName(t);if(r!==undefined&&n)this._constants[o.str]=r;this._leafNode(new Def(e,o,r));return o}const(e,t,r){return this._def(o.varKinds.const,e,t,r)}let(e,t,r){return this._def(o.varKinds.let,e,t,r)}var(e,t,r){return this._def(o.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new Assign(e,t,r))}add(e,r){return this._leafNode(new AssignOp(e,t.operators.ADD,r))}code(e){if(typeof e=="function")e();else if(e!==n.nil)this._leafNode(new AnyCode(e));return this}object(...e){const t=["{"];for(const[r,o]of e){if(t.length>1)t.push(",");t.push(r);if(r!==o||this.opts.es5){t.push(":");n.addCodeArg(t,o)}}t.push("}");return new n._Code(t)}if(e,t,r){this._blockNode(new If(e));if(t&&r){this.code(t).else().code(r).endIf()}else if(t){this.code(t).endIf()}else if(r){throw new Error('CodeGen: "else" body without "then" body')}return this}elseIf(e){return this._elseNode(new If(e))}else(){return this._elseNode(new Else)}endIf(){return this._endBlockNode(If,Else)}_for(e,t){this._blockNode(e);if(t)this.code(t).endFor();return this}for(e,t){return this._for(new ForLoop(e),t)}forRange(e,t,r,n,s=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const a=this._scope.toName(e);return this._for(new ForRange(s,a,t,r),(()=>n(a)))}forOf(e,t,r,s=o.varKinds.const){const a=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(a,n._`${e}[${t}]`);r(a)}))}return this._for(new ForIter("of",s,a,t),(()=>r(a)))}forIn(e,t,r,s=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties){return this.forOf(e,n._`Object.keys(${t})`,r)}const a=this._scope.toName(e);return this._for(new ForIter("in",s,a,t),(()=>r(a)))}endFor(){return this._endBlockNode(For)}label(e){return this._leafNode(new Label(e))}break(e){return this._leafNode(new Break(e))}return(e){const t=new Return;this._blockNode(t);this.code(e);if(t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Return)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new Try;this._blockNode(n);this.code(e);if(t){const e=this.name("e");this._currNode=n.catch=new Catch(e);t(e)}if(r){this._currNode=n.finally=new Finally;this.code(r)}return this._endBlockNode(Catch,Finally)}throw(e){return this._leafNode(new Throw(e))}block(e,t){this._blockStarts.push(this._nodes.length);if(e)this.code(e).endBlock(t);return this}endBlock(e){const t=this._blockStarts.pop();if(t===undefined)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||e!==undefined&&r!==e){throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`)}this._nodes.length=t;return this}func(e,t=n.nil,r,o){this._blockNode(new Func(e,t,r));if(o)this.code(o).endFunc();return this}endFunc(){return this._endBlockNode(Func)}optimize(e=1){while(e-- >0){this._root.optimizeNodes();this._root.optimizeNames(this._root.names,this._constants)}}_leafNode(e){this._currNode.nodes.push(e);return this}_blockNode(e){this._currNode.nodes.push(e);this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t){this._nodes.pop();return this}throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof If)){throw new Error('CodeGen: "else" without "if"')}this._currNode=t.else=e;return this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}}t.CodeGen=CodeGen;function addNames(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function addExprNames(e,t){return t instanceof n._CodeOrName?addNames(e,t.names):e}function optimizeExpr(e,t,r){if(e instanceof n.Name)return replaceName(e);if(!canOptimize(e))return e;return new n._Code(e._items.reduce(((e,t)=>{if(t instanceof n.Name)t=replaceName(t);if(t instanceof n._Code)e.push(...t._items);else e.push(t);return e}),[]));function replaceName(e){const n=r[e.str];if(n===undefined||t[e.str]!==1)return e;delete t[e.str];return n}function canOptimize(e){return e instanceof n._Code&&e._items.some((e=>e instanceof n.Name&&t[e.str]===1&&r[e.str]!==undefined))}}function subtractNames(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function not(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:n._`!${par(e)}`}t.not=not;const i=mappend(t.operators.AND);function and(...e){return e.reduce(i)}t.and=and;const c=mappend(t.operators.OR);function or(...e){return e.reduce(c)}t.or=or;function mappend(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${par(t)} ${e} ${par(r)}`}function par(e){return e instanceof n.Name?e:n._`(${e})`}},2893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(8358);class ValueError extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}}var o;(function(e){e[e["Started"]=0]="Started";e[e["Completed"]=1]="Completed"})(o=t.UsedValueState||(t.UsedValueState={}));t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class Scope{constructor({prefixes:e,parent:t}={}){this._names={};this._prefixes=e;this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if(((r=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||r===void 0?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e)){throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`)}return this._names[e]={prefix:e,index:0}}}t.Scope=Scope;class ValueScopeName extends n.Name{constructor(e,t){super(t);this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e;this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=ValueScopeName;const s=n._`\n`;class ValueScope extends Scope{constructor(e){super(e);this._values={};this._scope=e.scope;this.opts={...e,_n:e.lines?s:n.nil}}get(){return this._scope}name(e){return new ValueScopeName(e,this._newName(e))}value(e,t){var r;if(t.ref===undefined)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e);const{prefix:o}=n;const s=(r=t.key)!==null&&r!==void 0?r:t.ref;let a=this._values[o];if(a){const e=a.get(s);if(e)return e}else{a=this._values[o]=new Map}a.set(s,n);const i=this._scope[o]||(this._scope[o]=[]);const c=i.length;i[c]=t.ref;n.setValue(t,{property:o,itemIndex:c});return n}getValue(e,t){const r=this._values[e];if(!r)return;return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(t.scopePath===undefined)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(e.value===undefined)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let i=n.nil;for(const c in e){const u=e[c];if(!u)continue;const l=s[c]=s[c]||new Map;u.forEach((e=>{if(l.has(e))return;l.set(e,o.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;i=n._`${i}${r} ${e} = ${s};${this.opts._n}`}else if(s=a===null||a===void 0?void 0:a(e)){i=n._`${i}${s}${this.opts._n}`}else{throw new ValueError(e)}l.set(e,o.Completed)}))}return i}}t.ValueScope=ValueScope},6150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(9179);const o=r(3439);const s=r(50);t.keywordError={message:({keyword:e})=>n.str`should pass "${e}" keyword validation`};t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`};function reportError(e,r=t.keywordError,o,s){const{it:a}=e;const{gen:i,compositeRule:c,allErrors:u}=a;const l=errorObjectCode(e,r,o);if(s!==null&&s!==void 0?s:c||u){addError(i,l)}else{returnErrors(a,n._`[${l}]`)}}t.reportError=reportError;function reportExtraError(e,r=t.keywordError,n){const{it:o}=e;const{gen:a,compositeRule:i,allErrors:c}=o;const u=errorObjectCode(e,r,n);addError(a,u);if(!(i||c)){returnErrors(o,s.default.vErrors)}}t.reportExtraError=reportExtraError;function resetErrorsCount(e,t){e.assign(s.default.errors,t);e.if(n._`${s.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${s.default.vErrors}.length`,t)),(()=>e.assign(s.default.vErrors,null)))))}t.resetErrorsCount=resetErrorsCount;function extendErrors({gen:e,keyword:t,schemaValue:r,data:o,errsCount:a,it:i}){if(a===undefined)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",a,s.default.errors,(a=>{e.const(c,n._`${s.default.vErrors}[${a}]`);e.if(n._`${c}.instancePath === undefined`,(()=>e.assign(n._`${c}.instancePath`,n.strConcat(s.default.instancePath,i.errorPath))));e.assign(n._`${c}.schemaPath`,n.str`${i.errSchemaPath}/${t}`);if(i.opts.verbose){e.assign(n._`${c}.schema`,r);e.assign(n._`${c}.data`,o)}}))}t.extendErrors=extendErrors;function addError(e,t){const r=e.const("err",t);e.if(n._`${s.default.vErrors} === null`,(()=>e.assign(s.default.vErrors,n._`[${r}]`)),n._`${s.default.vErrors}.push(${r})`);e.code(n._`${s.default.errors}++`)}function returnErrors(e,t){const{gen:r,validateName:o,schemaEnv:s}=e;if(s.$async){r.throw(n._`new ${e.ValidationError}(${t})`)}else{r.assign(n._`${o}.errors`,t);r.return(false)}}const a={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function errorObjectCode(e,t,r){const{createErrors:o}=e.it;if(o===false)return n._`{}`;return errorObject(e,t,r)}function errorObject(e,t,r={}){const{gen:n,it:o}=e;const s=[errorInstancePath(o,r),errorSchemaPath(e,r)];extraErrorProps(e,t,s);return n.object(...s)}function errorInstancePath({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${o.getErrorPath(t,o.Type.Str)}`:e;return[s.default.instancePath,n.strConcat(s.default.instancePath,r)]}function errorSchemaPath({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:s}){let i=s?t:n.str`${t}/${e}`;if(r){i=n.str`${i}${o.getErrorPath(r,o.Type.Str)}`}return[a.schemaPath,i]}function extraErrorProps(e,{params:t,message:r},o){const{keyword:i,data:c,schemaValue:u,it:l}=e;const{opts:f,propertyName:d,topSchemaRef:p,schemaPath:h}=l;o.push([a.keyword,i],[a.params,typeof t=="function"?t(e):t||n._`{}`]);if(f.messages){o.push([a.message,typeof r=="function"?r(e):r])}if(f.verbose){o.push([a.schema,u],[a.parentSchema,n._`${p}${h}`],[s.default.data,c])}if(d)o.push([a.propertyName,d])}},813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(9179);const o=r(7616);const s=r(50);const a=r(6646);const i=r(3439);const c=r(8955);const u=r(20);class SchemaEnv{constructor(e){var t;this.refs={};this.dynamicAnchors={};let r;if(typeof e.schema=="object")r=e.schema;this.schema=e.schema;this.root=e.root||this;this.baseId=(t=e.baseId)!==null&&t!==void 0?t:a.normalizeId(r===null||r===void 0?void 0:r.$id);this.schemaPath=e.schemaPath;this.localRefs=e.localRefs;this.meta=e.meta;this.$async=r===null||r===void 0?void 0:r.$async;this.refs={}}}t.SchemaEnv=SchemaEnv;function compileSchema(e){const t=getCompilingSchema.call(this,e);if(t)return t;const r=a.getFullPath(e.root.baseId);const{es5:i,lines:u}=this.opts.code;const{ownProperties:l}=this.opts;const f=new n.CodeGen(this.scope,{es5:i,lines:u,ownProperties:l});let d;if(e.$async){d=f.scopeValue("Error",{ref:o.default,code:n._`require("ajv/dist/runtime/validation_error").default`})}const p=f.scopeName("validate");e.validateName=p;const h={gen:f,allErrors:this.opts.allErrors,data:s.default.data,parentData:s.default.parentData,parentDataProperty:s.default.parentDataProperty,dataNames:[s.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",this.opts.code.source===true?{ref:e.schema,code:n.stringify(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e);c.validateFunctionCode(h);f.optimize(this.opts.code.optimize);const t=f.toString();m=`${f.scopeRefs(s.default.scope)}return ${t}`;if(this.opts.code.process)m=this.opts.code.process(m,e);const r=new Function(`${s.default.self}`,`${s.default.scope}`,m);const o=r(this,this.scope.get());this.scope.value(p,{ref:o});o.errors=null;o.schema=e.schema;o.schemaEnv=e;if(e.$async)o.$async=true;if(this.opts.code.source===true){o.source={validateName:p,validateCode:t,scopeValues:f._values}}if(this.opts.unevaluated){const{props:e,items:t}=h;o.evaluated={props:e instanceof n.Name?undefined:e,items:t instanceof n.Name?undefined:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name};if(o.source)o.source.evaluated=n.stringify(o.evaluated)}e.validate=o;return e}catch(t){delete e.validate;delete e.validateName;if(m)this.logger.error("Error compiling schema, function code:",m);throw t}finally{this._compilations.delete(e)}}t.compileSchema=compileSchema;function resolveRef(e,t,r){var n;r=a.resolveUrl(t,r);const o=e.refs[r];if(o)return o;let s=resolve.call(this,e,r);if(s===undefined){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r];if(o)s=new SchemaEnv({schema:o,root:e,baseId:t})}if(s===undefined)return;return e.refs[r]=inlineOrCompile.call(this,s)}t.resolveRef=resolveRef;function inlineOrCompile(e){if(a.inlineRef(e.schema,this.opts.inlineRefs))return e.schema;return e.validate?e:compileSchema.call(this,e)}function getCompilingSchema(e){for(const t of this._compilations){if(sameSchemaEnv(t,e))return t}}t.getCompilingSchema=getCompilingSchema;function sameSchemaEnv(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function resolve(e,t){let r;while(typeof(r=this.refs[t])=="string")t=r;return r||this.schemas[t]||resolveSchema.call(this,e,t)}function resolveSchema(e,t){const r=u.parse(t);const n=a._getFullPath(r);let o=a.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&n===o){return getJsonPointer.call(this,r,e)}const s=a.normalizeId(n);const i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const t=resolveSchema.call(this,e,i);if(typeof(t===null||t===void 0?void 0:t.schema)!=="object")return;return getJsonPointer.call(this,r,t)}if(typeof(i===null||i===void 0?void 0:i.schema)!=="object")return;if(!i.validate)compileSchema.call(this,i);if(s===a.normalizeId(t)){const{schema:t}=i;if(t.$id)o=a.resolveUrl(o,t.$id);return new SchemaEnv({schema:t,root:e,baseId:o})}return getJsonPointer.call(this,r,i)}t.resolveSchema=resolveSchema;const l=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const n of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;r=r[i.unescapeFragment(n)];if(r===undefined)return;if(!l.has(n)&&typeof r=="object"&&r.$id){t=a.resolveUrl(t,r.$id)}}let s;if(typeof r!="boolean"&&r.$ref&&!i.schemaHasRulesButRef(r,this.RULES)){const e=a.resolveUrl(t,r.$ref);s=resolveSchema.call(this,n,e)}s=s||new SchemaEnv({schema:r,root:n,baseId:t});if(s.schema!==s.root.schema)return s;return undefined}},50:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=o},8190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(6646);class MissingRefError extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`);this.missingRef=n.resolveUrl(e,t);this.missingSchema=n.normalizeId(n.getFullPath(this.missingRef))}}t.default=MissingRefError},6646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(3439);const o=r(8206);const s=r(2533);const a=r(20);const i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(e,t=true){if(typeof e=="boolean")return true;if(t===true)return!hasRef(e);if(!t)return false;return countKeys(e)<=t}t.inlineRef=inlineRef;const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(e){for(const t in e){if(c.has(t))return true;const r=e[t];if(Array.isArray(r)&&r.some(hasRef))return true;if(typeof r=="object"&&hasRef(r))return true}return false}function countKeys(e){let t=0;for(const r in e){if(r==="$ref")return Infinity;t++;if(i.has(r))continue;if(typeof e[r]=="object"){n.eachItem(e[r],(e=>t+=countKeys(e)))}if(t===Infinity)return Infinity}return t}function getFullPath(e="",t){if(t!==false)e=normalizeId(e);const r=a.parse(e);return _getFullPath(r)}t.getFullPath=getFullPath;function _getFullPath(e){return a.serialize(e).split("#")[0]+"#"}t._getFullPath=_getFullPath;const u=/#\/?$/;function normalizeId(e){return e?e.replace(u,""):""}t.normalizeId=normalizeId;function resolveUrl(e,t){t=normalizeId(t);return a.resolve(e,t)}t.resolveUrl=resolveUrl;const l=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(e){if(typeof e=="boolean")return{};const t=normalizeId(e.$id);const r={"":t};const n=getFullPath(t,false);const i={};const c=new Set;s(e,{allKeys:true},((e,t,o,s)=>{if(s===undefined)return;const u=n+t;let f=r[s];if(typeof e.$id=="string")f=addRef.call(this,e.$id);addAnchor.call(this,e.$anchor);addAnchor.call(this,e.$dynamicAnchor);r[t]=f;function addRef(t){t=normalizeId(f?a.resolve(f,t):t);if(c.has(t))throw ambiguos(t);c.add(t);let r=this.refs[t];if(typeof r=="string")r=this.refs[r];if(typeof r=="object"){checkAmbiguosRef(e,r.schema,t)}else if(t!==normalizeId(u)){if(t[0]==="#"){checkAmbiguosRef(e,i[t],t);i[t]=e}else{this.refs[t]=u}}return t}function addAnchor(e){if(typeof e=="string"){if(!l.test(e))throw new Error(`invalid anchor "${e}"`);addRef.call(this,`#${e}`)}}}));return i;function checkAmbiguosRef(e,t,r){if(t!==undefined&&!o(e,t))throw ambiguos(r)}function ambiguos(e){return new Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=getSchemaRefs},1785:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getRules=t.isJSONType=void 0;const r=["string","number","integer","boolean","null","object","array"];const n=new Set(r);function isJSONType(e){return typeof e=="string"&&n.has(e)}t.isJSONType=isJSONType;function getRules(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:true,boolean:true,null:true},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.getRules=getRules},3439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(9179);const o=r(8358);function toHash(e){const t={};for(const r of e)t[r]=true;return t}t.toHash=toHash;function alwaysValidSchema(e,t){if(typeof t=="boolean")return t;if(Object.keys(t).length===0)return true;checkUnknownRules(e,t);return!schemaHasRules(t,e.self.RULES.all)}t.alwaysValidSchema=alwaysValidSchema;function checkUnknownRules(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if(typeof t==="boolean")return;const o=n.RULES.keywords;for(const r in t){if(!o[r])checkStrictMode(e,`unknown keyword: "${r}"`)}}t.checkUnknownRules=checkUnknownRules;function schemaHasRules(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return true;return false}t.schemaHasRules=schemaHasRules;function schemaHasRulesButRef(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return true;return false}t.schemaHasRulesButRef=schemaHasRulesButRef;function schemaRefOrVal({topSchemaRef:e,schemaPath:t},r,o,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return n._`${r}`}return n._`${e}${t}${n.getProperty(o)}`}t.schemaRefOrVal=schemaRefOrVal;function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}t.unescapeFragment=unescapeFragment;function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}t.escapeFragment=escapeFragment;function escapeJsonPointer(e){if(typeof e=="number")return`${e}`;return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=escapeJsonPointer;function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=unescapeJsonPointer;function eachItem(e,t){if(Array.isArray(e)){for(const r of e)t(r)}else{t(e)}}t.eachItem=eachItem;function makeMergeEvaluated({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:o}){return(s,a,i,c)=>{const u=i===undefined?a:i instanceof n.Name?(a instanceof n.Name?e(s,a,i):t(s,a,i),i):a instanceof n.Name?(t(s,i,a),a):r(a,i);return c===n.Name&&!(u instanceof n.Name)?o(s,u):u}}t.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,true)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{if(t===true){e.assign(r,true)}else{e.assign(r,n._`${r} || {}`);setEvaluated(e,r,t)}})),mergeValues:(e,t)=>e===true?true:{...e,...t},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,t===true?true:n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>e===true?true:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function evaluatedPropsToName(e,t){if(t===true)return e.var("props",true);const r=e.var("props",n._`{}`);if(t!==undefined)setEvaluated(e,r,t);return r}t.evaluatedPropsToName=evaluatedPropsToName;function setEvaluated(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${n.getProperty(r)}`,true)))}t.setEvaluated=setEvaluated;const s={};function useFunc(e,t){return e.scopeValue("func",{ref:t,code:s[t.code]||(s[t.code]=new o._Code(t.code))})}t.useFunc=useFunc;var a;(function(e){e[e["Num"]=0]="Num";e[e["Str"]=1]="Str"})(a=t.Type||(t.Type={}));function getErrorPath(e,t,r){if(e instanceof n.Name){const o=t===a.Num;return r?o?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:o?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?n.getProperty(e).toString():"/"+escapeJsonPointer(e)}t.getErrorPath=getErrorPath;function checkStrictMode(e,t,r=e.opts.strictSchema){if(!r)return;t=`strict mode: ${t}`;if(r===true)throw new Error(t);e.self.logger.warn(t)}t.checkStrictMode=checkStrictMode},3627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0;function schemaHasRulesForType({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==true&&shouldUseGroup(e,n)}t.schemaHasRulesForType=schemaHasRulesForType;function shouldUseGroup(e,t){return t.rules.some((t=>shouldUseRule(e,t)))}t.shouldUseGroup=shouldUseGroup;function shouldUseRule(e,t){var r;return e[t.keyword]!==undefined||((r=t.definition.implements)===null||r===void 0?void 0:r.some((t=>e[t]!==undefined)))}t.shouldUseRule=shouldUseRule},6214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(6150);const o=r(9179);const s=r(50);const a={message:"boolean schema is false"};function topBoolOrEmptySchema(e){const{gen:t,schema:r,validateName:n}=e;if(r===false){falseSchemaError(e,false)}else if(typeof r=="object"&&r.$async===true){t.return(s.default.data)}else{t.assign(o._`${n}.errors`,null);t.return(true)}}t.topBoolOrEmptySchema=topBoolOrEmptySchema;function boolOrEmptySchema(e,t){const{gen:r,schema:n}=e;if(n===false){r.var(t,false);falseSchemaError(e)}else{r.var(t,true)}}t.boolOrEmptySchema=boolOrEmptySchema;function falseSchemaError(e,t){const{gen:r,data:o}=e;const s={gen:r,keyword:"false schema",data:o,schema:false,schemaCode:false,schemaValue:false,params:{},it:e};n.reportError(s,a,undefined,t)}},7725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(1785);const o=r(3627);const s=r(6150);const a=r(9179);const i=r(3439);var c;(function(e){e[e["Correct"]=0]="Correct";e[e["Wrong"]=1]="Wrong"})(c=t.DataType||(t.DataType={}));function getSchemaTypes(e){const t=getJSONTypes(e.type);const r=t.includes("null");if(r){if(e.nullable===false)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==undefined){throw new Error('"nullable" cannot be used without "type"')}if(e.nullable===true)t.push("null")}return t}t.getSchemaTypes=getSchemaTypes;function getJSONTypes(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}t.getJSONTypes=getJSONTypes;function coerceAndCheckDataType(e,t){const{gen:r,data:n,opts:s}=e;const a=coerceToTypes(t,s.coerceTypes);const i=t.length>0&&!(a.length===0&&t.length===1&&o.schemaHasRulesForType(e,t[0]));if(i){const o=checkDataTypes(t,n,s.strictNumbers,c.Wrong);r.if(o,(()=>{if(a.length)coerceData(e,t,a);else reportTypeError(e)}))}return i}t.coerceAndCheckDataType=coerceAndCheckDataType;const u=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(e,t){return t?e.filter((e=>u.has(e)||t==="array"&&e==="array")):[]}function coerceData(e,t,r){const{gen:n,data:o,opts:s}=e;const i=n.let("dataType",a._`typeof ${o}`);const c=n.let("coerced",a._`undefined`);if(s.coerceTypes==="array"){n.if(a._`${i} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>n.assign(o,a._`${o}[0]`).assign(i,a._`typeof ${o}`).if(checkDataTypes(t,o,s.strictNumbers),(()=>n.assign(c,o)))))}n.if(a._`${c} !== undefined`);for(const e of r){if(u.has(e)||e==="array"&&s.coerceTypes==="array"){coerceSpecificType(e)}}n.else();reportTypeError(e);n.endIf();n.if(a._`${c} !== undefined`,(()=>{n.assign(o,c);assignParentData(e,c)}));function coerceSpecificType(e){switch(e){case"string":n.elseIf(a._`${i} == "number" || ${i} == "boolean"`).assign(c,a._`"" + ${o}`).elseIf(a._`${o} === null`).assign(c,a._`""`);return;case"number":n.elseIf(a._`${i} == "boolean" || ${o} === null
              || (${i} == "string" && ${o} && ${o} == +${o})`).assign(c,a._`+${o}`);return;case"integer":n.elseIf(a._`${i} === "boolean" || ${o} === null
              || (${i} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,a._`+${o}`);return;case"boolean":n.elseIf(a._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,false).elseIf(a._`${o} === "true" || ${o} === 1`).assign(c,true);return;case"null":n.elseIf(a._`${o} === "" || ${o} === 0 || ${o} === false`);n.assign(c,null);return;case"array":n.elseIf(a._`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${o} === null`).assign(c,a._`[${o}]`)}}}function assignParentData({gen:e,parentData:t,parentDataProperty:r},n){e.if(a._`${t} !== undefined`,(()=>e.assign(a._`${t}[${r}]`,n)))}function checkDataType(e,t,r,n=c.Correct){const o=n===c.Correct?a.operators.EQ:a.operators.NEQ;let s;switch(e){case"null":return a._`${t} ${o} null`;case"array":s=a._`Array.isArray(${t})`;break;case"object":s=a._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=numCond(a._`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=numCond();break;default:return a._`typeof ${t} ${o} ${e}`}return n===c.Correct?s:a.not(s);function numCond(e=a.nil){return a.and(a._`typeof ${t} == "number"`,e,r?a._`isFinite(${t})`:a.nil)}}t.checkDataType=checkDataType;function checkDataTypes(e,t,r,n){if(e.length===1){return checkDataType(e[0],t,r,n)}let o;const s=i.toHash(e);if(s.array&&s.object){const e=a._`typeof ${t} != "object"`;o=s.null?e:a._`!${t} || ${e}`;delete s.null;delete s.array;delete s.object}else{o=a.nil}if(s.number)delete s.integer;for(const e in s)o=a.and(o,checkDataType(e,t,r,n));return o}t.checkDataTypes=checkDataTypes;const l={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?a._`{type: ${e}}`:a._`{type: ${t}}`};function reportTypeError(e){const t=getTypeErrorContext(e);s.reportError(t,l)}t.reportTypeError=reportTypeError;function getTypeErrorContext(e){const{gen:t,data:r,schema:n}=e;const o=i.schemaRefOrVal(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}},9593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.assignDefaults=void 0;const n=r(9179);const o=r(3439);function assignDefaults(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r){for(const t in r){assignDefault(e,t,r[t].default)}}else if(t==="array"&&Array.isArray(n)){n.forEach(((t,r)=>assignDefault(e,r,t.default)))}}t.assignDefaults=assignDefaults;function assignDefault(e,t,r){const{gen:s,compositeRule:a,data:i,opts:c}=e;if(r===undefined)return;const u=n._`${i}${n.getProperty(t)}`;if(a){o.checkStrictMode(e,`default is ignored for: ${u}`);return}let l=n._`${u} === undefined`;if(c.useDefaults==="empty"){l=n._`${l} || ${u} === null || ${u} === ""`}s.if(l,n._`${u} = ${n.stringify(r)}`)}},8955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(6214);const o=r(7725);const s=r(3627);const a=r(7725);const i=r(9593);const c=r(8732);const u=r(3896);const l=r(9179);const f=r(50);const d=r(6646);const p=r(3439);const h=r(6150);function validateFunctionCode(e){if(isSchemaObj(e)){checkKeywords(e);if(schemaCxtHasRules(e)){topSchemaObjCode(e);return}}validateFunction(e,(()=>n.topBoolOrEmptySchema(e)))}t.validateFunctionCode=validateFunctionCode;function validateFunction({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},s){if(o.code.es5){e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,n.$async,(()=>{e.code(l._`"use strict"; ${funcSourceUrl(r,o)}`);destructureValCxtES5(e,o);e.code(s)}))}else{e.func(t,l._`${f.default.data}, ${destructureValCxt(o)}`,n.$async,(()=>e.code(funcSourceUrl(r,o)).code(s)))}}function destructureValCxt(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}function destructureValCxtES5(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`);e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`);e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`);e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`);if(t.dynamicRef)e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`);e.var(f.default.parentData,l._`undefined`);e.var(f.default.parentDataProperty,l._`undefined`);e.var(f.default.rootData,f.default.data);if(t.dynamicRef)e.var(f.default.dynamicAnchors,l._`{}`)}))}function topSchemaObjCode(e){const{schema:t,opts:r,gen:n}=e;validateFunction(e,(()=>{if(r.$comment&&t.$comment)commentKeyword(e);checkNoDefault(e);n.let(f.default.vErrors,null);n.let(f.default.errors,0);if(r.unevaluated)resetEvaluated(e);typeAndKeywords(e);returnResults(e)}));return}function resetEvaluated(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",l._`${r}.evaluated`);t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`)));t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}function funcSourceUrl(e,t){return typeof e=="object"&&e.$id&&(t.code.source||t.code.process)?l._`/*# sourceURL=${e.$id} */`:l.nil}function subschemaCode(e,t){if(isSchemaObj(e)){checkKeywords(e);if(schemaCxtHasRules(e)){subSchemaObjCode(e,t);return}}n.boolOrEmptySchema(e,t)}function schemaCxtHasRules({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return true;return false}function isSchemaObj(e){return typeof e.schema!="boolean"}function subSchemaObjCode(e,t){const{schema:r,gen:n,opts:o}=e;if(o.$comment&&r.$comment)commentKeyword(e);updateContext(e);checkAsyncSchema(e);const s=n.const("_errs",f.default.errors);typeAndKeywords(e,s);n.var(t,l._`${s} === ${f.default.errors}`)}function checkKeywords(e){p.checkUnknownRules(e);checkRefsAndKeywords(e)}function typeAndKeywords(e,t){if(e.opts.jtd)return schemaKeywords(e,[],false,t);const r=o.getSchemaTypes(e.schema);const n=o.coerceAndCheckDataType(e,r);schemaKeywords(e,r,!n,t)}function checkRefsAndKeywords(e){const{schema:t,errSchemaPath:r,opts:n,self:o}=e;if(t.$ref&&n.ignoreKeywordsWithRef&&p.schemaHasRulesButRef(t,o.RULES)){o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}}function checkNoDefault(e){const{schema:t,opts:r}=e;if(t.default!==undefined&&r.useDefaults&&r.strictSchema){p.checkStrictMode(e,"default is ignored in the schema root")}}function updateContext(e){if(e.schema.$id)e.baseId=d.resolveUrl(e.baseId,e.schema.$id)}function checkAsyncSchema(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){const s=r.$comment;if(o.$comment===true){e.code(l._`${f.default.self}.logger.log(${s})`)}else if(typeof o.$comment=="function"){const r=l.str`${n}/$comment`;const o=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${s}, ${r}, ${o}.schema)`)}}function returnResults(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:s}=e;if(r.$async){t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${o}(${f.default.vErrors})`)))}else{t.assign(l._`${n}.errors`,f.default.vErrors);if(s.unevaluated)assignEvaluated(e);t.return(l._`${f.default.errors} === 0`)}}function assignEvaluated({gen:e,evaluated:t,props:r,items:n}){if(r instanceof l.Name)e.assign(l._`${t}.props`,r);if(n instanceof l.Name)e.assign(l._`${t}.items`,n)}function schemaKeywords(e,t,r,n){const{gen:o,schema:i,data:c,allErrors:u,opts:d,self:h}=e;const{RULES:m}=h;if(i.$ref&&(d.ignoreKeywordsWithRef||!p.schemaHasRulesButRef(i,m))){o.block((()=>keywordCode(e,"$ref",m.all.$ref.definition)));return}if(!d.jtd)checkStrictTypes(e,t);o.block((()=>{for(const e of m.rules)groupKeywords(e);groupKeywords(m.post)}));function groupKeywords(p){if(!s.shouldUseGroup(i,p))return;if(p.type){o.if(a.checkDataType(p.type,c,d.strictNumbers));iterateKeywords(e,p);if(t.length===1&&t[0]===p.type&&r){o.else();a.reportTypeError(e)}o.endIf()}else{iterateKeywords(e,p)}if(!u)o.if(l._`${f.default.errors} === ${n||0}`)}}function iterateKeywords(e,t){const{gen:r,schema:n,opts:{useDefaults:o}}=e;if(o)i.assignDefaults(e,t.type);r.block((()=>{for(const r of t.rules){if(s.shouldUseRule(n,r)){keywordCode(e,r.keyword,r.definition,t.type)}}}))}function checkStrictTypes(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;checkContextTypes(e,t);if(!e.opts.allowUnionTypes)checkMultipleTypes(e,t);checkKeywordTypes(e,e.dataTypes)}function checkContextTypes(e,t){if(!t.length)return;if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach((t=>{if(!includesType(e.dataTypes,t)){strictTypesError(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}}));e.dataTypes=e.dataTypes.filter((e=>includesType(t,e)))}function checkMultipleTypes(e,t){if(t.length>1&&!(t.length===2&&t.includes("null"))){strictTypesError(e,"use allowUnionTypes to allow union type keyword")}}function checkKeywordTypes(e,t){const r=e.self.RULES.all;for(const n in r){const o=r[n];if(typeof o=="object"&&s.shouldUseRule(e.schema,o)){const{type:r}=o.definition;if(r.length&&!r.some((e=>hasApplicableType(t,e)))){strictTypesError(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}}function hasApplicableType(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function includesType(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function strictTypesError(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`;p.checkStrictMode(e,t,e.opts.strictTypes)}class KeywordCxt{constructor(e,t,r){c.validateKeywordUsage(e,t,r);this.gen=e.gen;this.allErrors=e.allErrors;this.keyword=r;this.data=e.data;this.schema=e.schema[r];this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data;this.schemaValue=p.schemaRefOrVal(e,this.schema,r,this.$data);this.schemaType=t.schemaType;this.parentSchema=e.schema;this.params={};this.it=e;this.def=t;if(this.$data){this.schemaCode=e.gen.const("vSchema",getData(this.$data,e))}else{this.schemaCode=this.schemaValue;if(!c.validSchemaType(this.schema,t.schemaType,t.allowUndefined)){throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`)}}if("code"in t?t.trackErrors:t.errors!==false){this.errsCount=e.gen.const("_errs",f.default.errors)}}result(e,t,r){this.gen.if(l.not(e));if(r)r();else this.error();if(t){this.gen.else();t();if(this.allErrors)this.gen.endIf()}else{if(this.allErrors)this.gen.endIf();else this.gen.else()}}pass(e,t){this.result(e,undefined,t)}fail(e){if(e===undefined){this.error();if(!this.allErrors)this.gen.if(false);return}this.gen.if(e);this.error();if(this.allErrors)this.gen.endIf();else this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${l.or(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t);this._error(e,r);this.setParams({});return}this._error(e,r)}_error(e,t){(e?h.reportExtraError:h.reportError)(this,this.def.error,t)}$dataError(){h.reportError(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===undefined)throw new Error('add "trackErrors" to keyword definition');h.resetErrorsCount(this.gen,this.errsCount)}ok(e){if(!this.allErrors)this.gen.if(e)}setParams(e,t){if(t)Object.assign(this.params,e);else this.params=e}block$data(e,t,r=l.nil){this.gen.block((()=>{this.check$data(e,r);t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:o,def:s}=this;r.if(l.or(l._`${n} === undefined`,t));if(e!==l.nil)r.assign(e,true);if(o.length||s.validateSchema){r.elseIf(this.invalid$data());this.$dataError();if(e!==l.nil)r.assign(e,false)}r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:o}=this;return l.or(wrong$DataType(),invalid$DataSchema());function wrong$DataType(){if(r.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return l._`${a.checkDataTypes(e,t,o.opts.strictNumbers,a.DataType.Wrong)}`}return l.nil}function invalid$DataSchema(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return l._`!${r}(${t})`}return l.nil}}subschema(e,t){const r=u.getSubschema(this.it,e);u.extendSubschemaData(r,this.it,e);u.extendSubschemaMode(r,e);const n={...this.it,...r,items:undefined,props:undefined};subschemaCode(n,t);return n}mergeEvaluated(e,t){const{it:r,gen:n}=this;if(!r.opts.unevaluated)return;if(r.props!==true&&e.props!==undefined){r.props=p.mergeEvaluated.props(n,e.props,r.props,t)}if(r.items!==true&&e.items!==undefined){r.items=p.mergeEvaluated.items(n,e.items,r.items,t)}}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(r.props!==true||r.items!==true)){n.if(t,(()=>this.mergeEvaluated(e,l.Name)));return true}}}t.KeywordCxt=KeywordCxt;function keywordCode(e,t,r,n){const o=new KeywordCxt(e,r,t);if("code"in r){r.code(o,n)}else if(o.$data&&r.validate){c.funcKeywordCode(o,r)}else if("macro"in r){c.macroKeywordCode(o,r)}else if(r.compile||r.validate){c.funcKeywordCode(o,r)}}const m=/^\/(?:[^~]|~0|~1)*$/;const y=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o;let s;if(e==="")return f.default.rootData;if(e[0]==="/"){if(!m.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e;s=f.default.rootData}else{const a=y.exec(e);if(!a)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+a[1];o=a[2];if(o==="#"){if(i>=t)throw new Error(errorMsg("property/index",i));return n[t-i]}if(i>t)throw new Error(errorMsg("data",i));s=r[t-i];if(!o)return s}let a=s;const i=o.split("/");for(const e of i){if(e){s=l._`${s}${l.getProperty(p.unescapeJsonPointer(e))}`;a=l._`${a} && ${s}`}}return a;function errorMsg(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=getData},8732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(9179);const o=r(50);const s=r(4205);const a=r(6150);function macroKeywordCode(e,t){const{gen:r,keyword:o,schema:s,parentSchema:a,it:i}=e;const c=t.macro.call(i.self,s,a,i);const u=useKeyword(r,o,c);if(i.opts.validateSchema!==false)i.self.validateSchema(c,true);const l=r.name("valid");e.subschema({schema:c,schemaPath:n.nil,errSchemaPath:`${i.errSchemaPath}/${o}`,topSchemaRef:u,compositeRule:true},l);e.pass(l,(()=>e.error(true)))}t.macroKeywordCode=macroKeywordCode;function funcKeywordCode(e,t){var r;const{gen:a,keyword:i,schema:c,parentSchema:u,$data:l,it:f}=e;checkAsyncKeyword(f,t);const d=!l&&t.compile?t.compile.call(f.self,c,u,f):t.validate;const p=useKeyword(a,i,d);const h=a.let("valid");e.block$data(h,validateKeyword);e.ok((r=t.valid)!==null&&r!==void 0?r:h);function validateKeyword(){if(t.errors===false){assignValid();if(t.modifying)modifyData(e);reportErrs((()=>e.error()))}else{const r=t.async?validateAsync():validateSync();if(t.modifying)modifyData(e);reportErrs((()=>addErrs(e,r)))}}function validateAsync(){const e=a.let("ruleErrs",null);a.try((()=>assignValid(n._`await `)),(t=>a.assign(h,false).if(n._`${t} instanceof ${f.ValidationError}`,(()=>a.assign(e,n._`${t}.errors`)),(()=>a.throw(t)))));return e}function validateSync(){const e=n._`${p}.errors`;a.assign(e,null);assignValid(n.nil);return e}function assignValid(r=(t.async?n._`await `:n.nil)){const i=f.opts.passContext?o.default.this:o.default.self;const c=!("compile"in t&&!l||t.schema===false);a.assign(h,n._`${r}${s.callValidateCode(e,p,i,c)}`,t.modifying)}function reportErrs(e){var r;a.if(n.not((r=t.valid)!==null&&r!==void 0?r:h),e)}}t.funcKeywordCode=funcKeywordCode;function modifyData(e){const{gen:t,data:r,it:o}=e;t.if(o.parentData,(()=>t.assign(r,n._`${o.parentData}[${o.parentDataProperty}]`)))}function addErrs(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(o.default.vErrors,n._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,n._`${o.default.vErrors}.length`);a.extendErrors(e)}),(()=>e.error()))}function checkAsyncKeyword({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword(e,t,r){if(r===undefined)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:n.stringify(r)})}function validSchemaType(e,t,r=false){return!t.length||t.some((t=>t==="array"?Array.isArray(e):t==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==t||r&&typeof e=="undefined"))}t.validSchemaType=validSchemaType;function validateKeywordUsage({schema:e,opts:t,self:r,errSchemaPath:n},o,s){if(Array.isArray(o.keyword)?!o.keyword.includes(s):o.keyword!==s){throw new Error("ajv implementation error")}const a=o.dependencies;if(a===null||a===void 0?void 0:a.some((t=>!Object.prototype.hasOwnProperty.call(e,t)))){throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`)}if(o.validateSchema){const a=o.validateSchema(e[s]);if(!a){const e=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(e);else throw new Error(e)}}}t.validateKeywordUsage=validateKeywordUsage},3896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(9179);const o=r(3439);function getSubschema(e,{keyword:t,schemaProp:r,schema:s,schemaPath:a,errSchemaPath:i,topSchemaRef:c}){if(t!==undefined&&s!==undefined){throw new Error('both "keyword" and "schema" passed, only one allowed')}if(t!==undefined){const s=e.schema[t];return r===undefined?{schema:s,schemaPath:n._`${e.schemaPath}${n.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:n._`${e.schemaPath}${n.getProperty(t)}${n.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${o.escapeFragment(r)}`}}if(s!==undefined){if(a===undefined||i===undefined||c===undefined){throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"')}return{schema:s,schemaPath:a,topSchemaRef:c,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}t.getSubschema=getSubschema;function extendSubschemaData(e,t,{dataProp:r,dataPropType:s,data:a,dataTypes:i,propertyName:c}){if(a!==undefined&&r!==undefined){throw new Error('both "data" and "dataProp" passed, only one allowed')}const{gen:u}=t;if(r!==undefined){const{errorPath:a,dataPathArr:i,opts:c}=t;const l=u.let("data",n._`${t.data}${n.getProperty(r)}`,true);dataContextProps(l);e.errorPath=n.str`${a}${o.getErrorPath(r,s,c.jsPropertySyntax)}`;e.parentDataProperty=n._`${r}`;e.dataPathArr=[...i,e.parentDataProperty]}if(a!==undefined){const t=a instanceof n.Name?a:u.let("data",a,true);dataContextProps(t);if(c!==undefined)e.propertyName=c}if(i)e.dataTypes=i;function dataContextProps(r){e.data=r;e.dataLevel=t.dataLevel+1;e.dataTypes=[];t.definedProperties=new Set;e.parentData=t.data;e.dataNames=[...t.dataNames,r]}}t.extendSubschemaData=extendSubschemaData;function extendSubschemaMode(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:s}){if(n!==undefined)e.compositeRule=n;if(o!==undefined)e.createErrors=o;if(s!==undefined)e.allErrors=s;e.jtdDiscriminator=t;e.jtdMetadata=r}t.extendSubschemaMode=extendSubschemaMode},2685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(8955);Object.defineProperty(t,"KeywordCxt",{enumerable:true,get:function(){return n.KeywordCxt}});var o=r(9179);Object.defineProperty(t,"_",{enumerable:true,get:function(){return o._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return o.str}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return o.stringify}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return o.nil}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return o.Name}});Object.defineProperty(t,"CodeGen",{enumerable:true,get:function(){return o.CodeGen}});const s=r(7616);const a=r(8190);const i=r(1785);const c=r(813);const u=r(9179);const l=r(6646);const f=r(7725);const d=r(3439);const p=r(2228);const h=["removeAdditional","useDefaults","coerceTypes"];const m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]);const y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7/8.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now, see option `strict`."};const g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};const v=200;function requiredOptions(e){var t,r,n,o,s,a,i,c,u,l,f,d,p,h,m,y,g,b,w,$;const S=e.strict;const E=(t=e.code)===null||t===void 0?void 0:t.optimize;const C=E===true||E===undefined?1:E||0;return{strictSchema:(n=(r=e.strictSchema)!==null&&r!==void 0?r:S)!==null&&n!==void 0?n:true,strictNumbers:(s=(o=e.strictNumbers)!==null&&o!==void 0?o:S)!==null&&s!==void 0?s:true,strictTypes:(i=(a=e.strictTypes)!==null&&a!==void 0?a:S)!==null&&i!==void 0?i:"log",strictTuples:(u=(c=e.strictTuples)!==null&&c!==void 0?c:S)!==null&&u!==void 0?u:"log",strictRequired:(f=(l=e.strictRequired)!==null&&l!==void 0?l:S)!==null&&f!==void 0?f:false,code:e.code?{...e.code,optimize:C}:{optimize:C},loopRequired:(d=e.loopRequired)!==null&&d!==void 0?d:v,loopEnum:(p=e.loopEnum)!==null&&p!==void 0?p:v,meta:(h=e.meta)!==null&&h!==void 0?h:true,messages:(m=e.messages)!==null&&m!==void 0?m:true,inlineRefs:(y=e.inlineRefs)!==null&&y!==void 0?y:true,addUsedSchema:(g=e.addUsedSchema)!==null&&g!==void 0?g:true,validateSchema:(b=e.validateSchema)!==null&&b!==void 0?b:true,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:true,unicodeRegExp:($=e.unicodeRegExp)!==null&&$!==void 0?$:true}}class Ajv{constructor(e={}){this.schemas={};this.refs={};this.formats={};this._compilations=new Set;this._loading={};this._cache=new Map;e=this.opts={...e,...requiredOptions(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:m,es5:t,lines:r});this.logger=getLogger(e.logger);const n=e.validateFormats;e.validateFormats=false;this.RULES=i.getRules();checkOptions.call(this,y,e,"NOT SUPPORTED");checkOptions.call(this,g,e,"DEPRECATED","warn");this._metaOpts=getMetaSchemaOptions.call(this);if(e.formats)addInitialFormats.call(this);this._addVocabularies();this._addDefaultMetaSchema();if(e.keywords)addInitialKeywords.call(this,e.keywords);if(typeof e.meta=="object")this.addMetaSchema(e.meta);addInitialSchemas.call(this);e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;if(t&&e)this.addMetaSchema(p,p.$id,false)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e.$id||e:undefined}validate(e,t){let r;if(typeof e=="string"){r=this.getSchema(e);if(!r)throw new Error(`no schema with key or ref "${e}"`)}else{r=this.compile(e)}const n=r(t);if(!("$async"in r))this.errors=r.errors;return n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function"){throw new Error("options.loadSchema should be a function")}const{loadSchema:r}=this.opts;return runCompileAsync.call(this,e,t);async function runCompileAsync(e,t){await loadMetaSchema.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||_compileAsync.call(this,r)}async function loadMetaSchema(e){if(e&&!this.getSchema(e)){await runCompileAsync.call(this,{$ref:e},true)}}async function _compileAsync(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof a.default))throw t;checkLoaded.call(this,t);await loadMissingSchema.call(this,t.missingSchema);return _compileAsync.call(this,e)}}function checkLoaded({missingSchema:e,missingRef:t}){if(this.refs[e]){throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}}async function loadMissingSchema(e){const r=await _loadSchema.call(this,e);if(!this.refs[e])await loadMetaSchema.call(this,r.$schema);if(!this.refs[e])this.addSchema(r,e,t)}async function _loadSchema(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,undefined,r,n);return this}let o;if(typeof e==="object"){o=e.$id;if(o!==undefined&&typeof o!="string")throw new Error("schema $id must be string")}t=l.normalizeId(t||o);this._checkUnique(t);this.schemas[t]=this._addSchema(e,r,t,n,true);return this}addMetaSchema(e,t,r=this.opts.validateSchema){this.addSchema(e,t,true,r);return this}validateSchema(e,t){if(typeof e=="boolean")return true;let r;r=e.$schema;if(r!==undefined&&typeof r!="string"){throw new Error("$schema must be a string")}r=r||this.opts.defaultMeta||this.defaultMeta();if(!r){this.logger.warn("meta-schema not available");this.errors=null;return true}const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(e);else throw new Error(e)}return n}getSchema(e){let t;while(typeof(t=getSchEnv.call(this,e))=="string")e=t;if(t===undefined){const r=new c.SchemaEnv({schema:{}});t=c.resolveSchema.call(this,r,e);if(!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp){this._removeAllSchemas(this.schemas,e);this._removeAllSchemas(this.refs,e);return this}switch(typeof e){case"undefined":this._removeAllSchemas(this.schemas);this._removeAllSchemas(this.refs);this._cache.clear();return this;case"string":{const t=getSchEnv.call(this,e);if(typeof t=="object")this._cache.delete(t.schema);delete this.schemas[e];delete this.refs[e];return this}case"object":{const t=e;this._cache.delete(t);let r=e.$id;if(r){r=l.normalizeId(r);delete this.schemas[r];delete this.refs[r]}return this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if(typeof e=="string"){r=e;if(typeof t=="object"){this.logger.warn("these parameters are deprecated, see docs for addKeyword");t.keyword=r}}else if(typeof e=="object"&&t===undefined){t=e;r=t.keyword;if(Array.isArray(r)&&!r.length){throw new Error("addKeywords: keyword must be string or non-empty array")}}else{throw new Error("invalid addKeywords parameters")}checkKeyword.call(this,r,t);if(!t){d.eachItem(r,(e=>addRule.call(this,e)));return this}keywordMetaschema.call(this,t);const n={...t,type:f.getJSONTypes(t.type),schemaType:f.getJSONTypes(t.schemaType)};d.eachItem(r,n.type.length===0?e=>addRule.call(this,e,n):e=>n.type.forEach((t=>addRule.call(this,e,n,t))));return this}getKeyword(e){const t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e];delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));if(t>=0)r.rules.splice(t,1)}return this}addFormat(e,t){if(typeof t=="string")t=new RegExp(t);this.formats[e]=t;return this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){if(!e||e.length===0)return"No errors";return e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r))}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in r){const t=r[e];if(typeof t!="object")continue;const{$data:n}=t.definition;const s=o[e];if(n&&s)o[e]=schemaOrData(s)}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];if(!t||t.test(r)){if(typeof n=="string"){delete e[r]}else if(n&&!n.meta){this._cache.delete(n.schema);delete e[r]}}}}_addSchema(e,t,r,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let s;if(typeof e=="object"){s=e.$id}else{if(this.opts.jtd)throw new Error("schema must be object");else if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(a!==undefined)return a;const i=l.getSchemaRefs.call(this,e);r=l.normalizeId(s||r);a=new c.SchemaEnv({schema:e,meta:t,baseId:r,localRefs:i});this._cache.set(a.schema,a);if(o&&!r.startsWith("#")){if(r)this._checkUnique(r);this.refs[r]=a}if(n)this.validateSchema(e,true);return a}_checkUnique(e){if(this.schemas[e]||this.refs[e]){throw new Error(`schema with key or id "${e}" already exists`)}}_compileSchemaEnv(e){if(e.meta)this._compileMetaSchema(e);else c.compileSchema.call(this,e);if(!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}t.default=Ajv;Ajv.ValidationError=s.default;Ajv.MissingRefError=a.default;function checkOptions(e,t,r,n="error"){for(const o in e){const s=o;if(s in t)this.logger[n](`${r}: option ${o}. ${e[s]}`)}}function getSchEnv(e){e=l.normalizeId(e);return this.schemas[e]||this.refs[e]}function addInitialSchemas(){const e=this.opts.schemas;if(!e)return;if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function addInitialFormats(){for(const e in this.opts.formats){const t=this.opts.formats[e];if(t)this.addFormat(e,t)}}function addInitialKeywords(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];if(!r.keyword)r.keyword=t;this.addKeyword(r)}}function getMetaSchemaOptions(){const e={...this.opts};for(const t of h)delete e[t];return e}const b={log(){},warn(){},error(){}};function getLogger(e){if(e===false)return b;if(e===undefined)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}const w=/^[a-z_$][a-z0-9_$:-]*$/i;function checkKeyword(e,t){const{RULES:r}=this;d.eachItem(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!w.test(e))throw new Error(`Keyword ${e} has invalid name`)}));if(!t)return;if(t.$data&&!("code"in t||"validate"in t)){throw new Error('$data keyword must have "code" or "validate" function')}}function addRule(e,t,r){var n;const o=t===null||t===void 0?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:s}=this;let a=o?s.post:s.rules.find((({type:e})=>e===r));if(!a){a={type:r,rules:[]};s.rules.push(a)}s.keywords[e]=true;if(!t)return;const i={keyword:e,definition:{...t,type:f.getJSONTypes(t.type),schemaType:f.getJSONTypes(t.schemaType)}};if(t.before)addBeforeRule.call(this,a,i,t.before);else a.rules.push(i);s.all[e]=i;(n=t.implements)===null||n===void 0?void 0:n.forEach((e=>this.addKeyword(e)))}function addBeforeRule(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));if(n>=0){e.rules.splice(n,0,t)}else{e.rules.push(t);this.logger.warn(`rule ${r} is not defined`)}}function keywordMetaschema(e){let{metaSchema:t}=e;if(t===undefined)return;if(e.$data&&this.opts.$data)t=schemaOrData(t);e.validateSchema=this.compile(t,true)}const $={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function schemaOrData(e){return{anyOf:[e,$]}}},3809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8206);n.code='require("ajv/dist/runtime/equal").default';t.default=n},2470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function ucs2length(e){const t=e.length;let r=0;let n=0;let o;while(n<t){r++;o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<t){o=e.charCodeAt(n);if((o&64512)===56320)n++}}return r}t.default=ucs2length;ucs2length.code='require("ajv/dist/runtime/ucs2length").default'},7616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class ValidationError extends Error{constructor(e){super("validation failed");this.errors=e;this.ajv=this.validation=true}}t.default=ValidationError},4720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateAdditionalItems=void 0;const n=r(9179);const o=r(3439);const s={message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`};const a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:s,code(e){const{parentSchema:t,it:r}=e;const{items:n}=t;if(!Array.isArray(n)){o.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems(e,n)}};function validateAdditionalItems(e,t){const{gen:r,schema:s,data:a,keyword:i,it:c}=e;c.items=true;const u=r.const("len",n._`${a}.length`);if(s===false){e.setParams({len:t.length});e.pass(n._`${u} <= ${t.length}`)}else if(typeof s=="object"&&!o.alwaysValidSchema(c,s)){const o=r.var("valid",n._`${u} <= ${t.length}`);r.if(n.not(o),(()=>validateItems(o)));e.ok(o)}function validateItems(s){r.forRange("i",t.length,u,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:o.Type.Num},s);if(!c.allErrors)r.if(n.not(s),(()=>r.break()))}))}}t.validateAdditionalItems=validateAdditionalItems;t.default=a},3481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4205);const o=r(9179);const s=r(50);const a=r(3439);const i={message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`};const c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:true,trackErrors:true,error:i,code(e){const{gen:t,schema:r,parentSchema:i,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=l;l.props=true;if(d.removeAdditional!=="all"&&a.alwaysValidSchema(l,r))return;const p=n.allSchemaProperties(i.properties);const h=n.allSchemaProperties(i.patternProperties);checkAdditionalProperties();e.ok(o._`${u} === ${s.default.errors}`);function checkAdditionalProperties(){t.forIn("key",c,(e=>{if(!p.length&&!h.length)additionalPropertyCode(e);else t.if(isAdditional(e),(()=>additionalPropertyCode(e)))}))}function isAdditional(r){let s;if(p.length>8){const e=a.schemaRefOrVal(l,i.properties,"properties");s=n.isOwnProperty(t,e,r)}else if(p.length){s=o.or(...p.map((e=>o._`${r} === ${e}`)))}else{s=o.nil}if(h.length){s=o.or(s,...h.map((t=>o._`${n.usePattern(e,t)}.test(${r})`)))}return o.not(s)}function deleteAdditional(e){t.code(o._`delete ${c}[${e}]`)}function additionalPropertyCode(n){if(d.removeAdditional==="all"||d.removeAdditional&&r===false){deleteAdditional(n);return}if(r===false){e.setParams({additionalProperty:n});e.error();if(!f)t.break();return}if(typeof r=="object"&&!a.alwaysValidSchema(l,r)){const r=t.name("valid");if(d.removeAdditional==="failing"){applyAdditionalSchema(n,r,false);t.if(o.not(r),(()=>{e.reset();deleteAdditional(n)}))}else{applyAdditionalSchema(n,r);if(!f)t.if(o.not(r),(()=>t.break()))}}}function applyAdditionalSchema(t,r,n){const o={keyword:"additionalProperties",dataProp:t,dataPropType:a.Type.Str};if(n===false){Object.assign(o,{compositeRule:true,createErrors:false,allErrors:false})}e.subschema(o,r)}}};t.default=c},8406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3439);const o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach(((t,r)=>{if(n.alwaysValidSchema(o,t))return;const a=e.subschema({keyword:"allOf",schemaProp:r},s);e.ok(s);e.mergeEvaluated(a)}))}};t.default=o},8168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4205);const o={keyword:"anyOf",schemaType:"array",trackErrors:true,code:n.validateUnion,error:{message:"must match a schema in anyOf"}};t.default=o},9535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s={message:({params:{min:e,max:t}})=>t===undefined?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===undefined?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`};const a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:true,error:s,code(e){const{gen:t,schema:r,parentSchema:s,data:a,it:i}=e;let c;let u;const{minContains:l,maxContains:f}=s;if(i.opts.next){c=l===undefined?1:l;u=f}else{c=1}const d=t.const("len",n._`${a}.length`);e.setParams({min:c,max:u});if(u===undefined&&c===0){o.checkStrictMode(i,`"minContains" == 0 without "maxContains": "contains" keyword ignored`);return}if(u!==undefined&&c>u){o.checkStrictMode(i,`"minContains" > "maxContains" is always invalid`);e.fail();return}if(o.alwaysValidSchema(i,r)){let t=n._`${d} >= ${c}`;if(u!==undefined)t=n._`${t} && ${d} <= ${u}`;e.pass(t);return}i.items=true;const p=t.name("valid");if(u===undefined&&c===1){validateItems(p,(()=>t.if(p,(()=>t.break()))))}else{t.let(p,false);const e=t.name("_valid");const r=t.let("count",0);validateItems(e,(()=>t.if(e,(()=>checkLimits(r)))))}e.result(p,(()=>e.reset()));function validateItems(r,n){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:true},r);n()}))}function checkLimits(e){t.code(n._`${e}++`);if(u===undefined){t.if(n._`${e} >= ${c}`,(()=>t.assign(p,true).break()))}else{t.if(n._`${e} > ${u}`,(()=>t.assign(p,false).break()));if(c===1)t.assign(p,true);else t.if(n._`${e} >= ${c}`,(()=>t.assign(p,true)))}}}};t.default=a},4611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(9179);const o=r(3439);const s=r(4205);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const o=t===1?"property":"properties";return n.str`must have ${o} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:o}})=>n._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${r}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=splitDependencies(e);validatePropertyDeps(e,t);validateSchemaDeps(e,r)}};function splitDependencies({schema:e}){const t={};const r={};for(const n in e){if(n==="__proto__")continue;const o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function validatePropertyDeps(e,t=e.schema){const{gen:r,data:o,it:a}=e;if(Object.keys(t).length===0)return;const i=r.let("missing");for(const c in t){const u=t[c];if(u.length===0)continue;const l=s.propertyInData(r,o,c,a.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")});if(a.allErrors){r.if(l,(()=>{for(const t of u){s.checkReportMissingProp(e,t)}}))}else{r.if(n._`${l} && (${s.checkMissingProp(e,u,i)})`);s.reportMissingProp(e,i);r.else()}}}t.validatePropertyDeps=validatePropertyDeps;function validateSchemaDeps(e,t=e.schema){const{gen:r,data:n,keyword:a,it:i}=e;const c=r.name("valid");for(const u in t){if(o.alwaysValidSchema(i,t[u]))continue;r.if(s.propertyInData(r,n,u,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:a,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,true)));e.ok(c)}}t.validateSchemaDeps=validateSchemaDeps;t.default=a},7701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s={message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`};const a={keyword:"if",schemaType:["object","boolean"],trackErrors:true,error:s,code(e){const{gen:t,parentSchema:r,it:s}=e;if(r.then===undefined&&r.else===undefined){o.checkStrictMode(s,'"if" without "then" and "else" is ignored')}const a=hasSchema(s,"then");const i=hasSchema(s,"else");if(!a&&!i)return;const c=t.let("valid",true);const u=t.name("_valid");validateIf();e.reset();if(a&&i){const r=t.let("ifClause");e.setParams({ifClause:r});t.if(u,validateClause("then",r),validateClause("else",r))}else if(a){t.if(u,validateClause("then"))}else{t.if(n.not(u),validateClause("else"))}e.pass(c,(()=>e.error(true)));function validateIf(){const t=e.subschema({keyword:"if",compositeRule:true,createErrors:false,allErrors:false},u);e.mergeEvaluated(t)}function validateClause(r,o){return()=>{const s=e.subschema({keyword:r},u);t.assign(c,u);e.mergeValidEvaluated(s,c);if(o)t.assign(o,n._`${r}`);else e.setParams({ifClause:r})}}}};function hasSchema(e,t){const r=e.schema[t];return r!==undefined&&!o.alwaysValidSchema(e,r)}t.default=a},3048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4720);const o=r(9498);const s=r(8008);const a=r(9084);const i=r(9535);const c=r(4611);const u=r(2554);const l=r(3481);const f=r(7666);const d=r(5157);const p=r(8720);const h=r(8168);const m=r(6434);const y=r(8406);const g=r(7701);const v=r(7680);function getApplicator(e=false){const t=[p.default,h.default,m.default,y.default,g.default,v.default,u.default,l.default,c.default,f.default,d.default];if(e)t.push(o.default,a.default);else t.push(n.default,s.default);t.push(i.default);return t}t.default=getApplicator},8008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateTuple=void 0;const n=r(9179);const o=r(3439);const s=r(4205);const a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return validateTuple(e,"additionalItems",t);r.items=true;if(o.alwaysValidSchema(r,t))return;e.ok(s.validateArray(e))}};function validateTuple(e,t,r=e.schema){const{gen:s,parentSchema:a,data:i,keyword:c,it:u}=e;checkStrictTuple(a);if(u.opts.unevaluated&&r.length&&u.items!==true){u.items=o.mergeEvaluated.items(s,r.length,u.items)}const l=s.name("valid");const f=s.const("len",n._`${i}.length`);r.forEach(((t,r)=>{if(o.alwaysValidSchema(u,t))return;s.if(n._`${f} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},l)));e.ok(l)}));function checkStrictTuple(e){const{opts:n,errSchemaPath:s}=u;const a=r.length;const i=a===e.minItems&&(a===e.maxItems||e[t]===false);if(n.strictTuples&&!i){const e=`"${c}" is ${a}-tuple, but minItems or maxItems/${t} are not specified or different at path "${s}"`;o.checkStrictMode(u,e,n.strictTuples)}}}t.validateTuple=validateTuple;t.default=a},9084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s=r(4205);const a=r(4720);const i={message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`};const c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:i,code(e){const{schema:t,parentSchema:r,it:n}=e;const{prefixItems:i}=r;n.items=true;if(o.alwaysValidSchema(n,t))return;if(i)a.validateAdditionalItems(e,i);else e.ok(s.validateArray(e))}};t.default=c},8720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3439);const o={keyword:"not",schemaType:["object","boolean"],trackErrors:true,code(e){const{gen:t,schema:r,it:o}=e;if(n.alwaysValidSchema(o,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:true,createErrors:false,allErrors:false},s);e.result(s,(()=>e.error()),(()=>e.reset()))},error:{message:"must NOT be valid"}};t.default=o},6434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s={message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`};const a={keyword:"oneOf",schemaType:"array",trackErrors:true,error:s,code(e){const{gen:t,schema:r,parentSchema:s,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&s.discriminator)return;const i=r;const c=t.let("valid",false);const u=t.let("passing",null);const l=t.name("_valid");e.setParams({passing:u});t.block(validateOneOf);e.result(c,(()=>e.reset()),(()=>e.error(true)));function validateOneOf(){i.forEach(((r,s)=>{let i;if(o.alwaysValidSchema(a,r)){t.var(l,true)}else{i=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:true},l)}if(s>0){t.if(n._`${l} && ${c}`).assign(c,false).assign(u,n._`[${u}, ${s}]`).else()}t.if(l,(()=>{t.assign(c,true);t.assign(u,s);if(i)e.mergeEvaluated(i,n.Name)}))}))}}};t.default=a},5157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4205);const o=r(9179);const s=r(3439);const a=r(3439);const i={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:c,it:u}=e;const{opts:l}=u;const f=n.schemaProperties(u,r);if(f.length===0)return;const d=l.strictSchema&&!l.allowMatchingProperties&&c.properties;const p=t.name("valid");if(u.props!==true&&!(u.props instanceof o.Name)){u.props=a.evaluatedPropsToName(t,u.props)}const{props:h}=u;validatePatternProperties();function validatePatternProperties(){for(const e of f){if(d)checkMatchingProperties(e);if(u.allErrors){validateProperties(e)}else{t.var(p,true);validateProperties(e);t.if(p)}}}function checkMatchingProperties(e){for(const t in d){if(new RegExp(e).test(t)){s.checkStrictMode(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}}}function validateProperties(r){t.forIn("key",i,(s=>{t.if(o._`${n.usePattern(e,r)}.test(${s})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:s,dataPropType:a.Type.Str},p);if(u.opts.unevaluated&&h!==true){t.assign(o._`${h}[${s}]`,true)}else if(!u.allErrors){t.if(o.not(p),(()=>t.break()))}}))}))}}};t.default=i},9498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8008);const o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>n.validateTuple(e,"items")};t.default=o},7666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8955);const o=r(4205);const s=r(3439);const a=r(3481);const i={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:c,it:u}=e;if(u.opts.removeAdditional==="all"&&i.additionalProperties===undefined){a.default.code(new n.KeywordCxt(u,a.default,"additionalProperties"))}const l=o.allSchemaProperties(r);for(const e of l){u.definedProperties.add(e)}if(u.opts.unevaluated&&l.length&&u.props!==true){u.props=s.mergeEvaluated.props(t,s.toHash(l),u.props)}const f=l.filter((e=>!s.alwaysValidSchema(u,r[e])));if(f.length===0)return;const d=t.name("valid");for(const r of f){if(hasDefault(r)){applyPropertySchema(r)}else{t.if(o.propertyInData(t,c,r,u.opts.ownProperties));applyPropertySchema(r);if(!u.allErrors)t.else().var(d,true);t.endIf()}e.it.definedProperties.add(r);e.ok(d)}function hasDefault(e){return u.opts.useDefaults&&!u.compositeRule&&r[e].default!==undefined}function applyPropertySchema(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=i},2554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s={message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`};const a={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:s,code(e){const{gen:t,schema:r,data:s,it:a}=e;if(o.alwaysValidSchema(a,r))return;const i=t.name("valid");t.forIn("key",s,(r=>{e.setParams({propertyName:r});e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:true},i);t.if(n.not(i),(()=>{e.error(true);if(!a.allErrors)t.break()}))}));e.ok(i)}};t.default=a},7680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3439);const o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){if(t.if===undefined)n.checkStrictMode(r,`"${e}" without "if" is ignored`)}};t.default=o},4205:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(9179);const o=r(3439);const s=r(50);function checkReportMissingProp(e,t){const{gen:r,data:o,it:s}=e;r.if(noPropertyInData(r,o,t,s.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},true);e.error()}))}t.checkReportMissingProp=checkReportMissingProp;function checkMissingProp({gen:e,data:t,it:{opts:r}},o,s){return n.or(...o.map((o=>n.and(noPropertyInData(e,t,o,r.ownProperties),n._`${s} = ${o}`))))}t.checkMissingProp=checkMissingProp;function reportMissingProp(e,t){e.setParams({missingProperty:t},true);e.error()}t.reportMissingProp=reportMissingProp;function hasPropFunc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}t.hasPropFunc=hasPropFunc;function isOwnProperty(e,t,r){return n._`${hasPropFunc(e)}.call(${t}, ${r})`}t.isOwnProperty=isOwnProperty;function propertyInData(e,t,r,o){const s=n._`${t}${n.getProperty(r)} !== undefined`;return o?n._`${s} && ${isOwnProperty(e,t,r)}`:s}t.propertyInData=propertyInData;function noPropertyInData(e,t,r,o){const s=n._`${t}${n.getProperty(r)} === undefined`;return o?n.or(s,n.not(isOwnProperty(e,t,r))):s}t.noPropertyInData=noPropertyInData;function allSchemaProperties(e){return e?Object.keys(e).filter((e=>e!=="__proto__")):[]}t.allSchemaProperties=allSchemaProperties;function schemaProperties(e,t){return allSchemaProperties(t).filter((r=>!o.alwaysValidSchema(e,t[r])))}t.schemaProperties=schemaProperties;function callValidateCode({schemaCode:e,data:t,it:{gen:r,topSchemaRef:o,schemaPath:a,errorPath:i},it:c},u,l,f){const d=f?n._`${e}, ${t}, ${o}${a}`:t;const p=[[s.default.instancePath,n.strConcat(s.default.instancePath,i)],[s.default.parentData,c.parentData],[s.default.parentDataProperty,c.parentDataProperty],[s.default.rootData,s.default.rootData]];if(c.opts.dynamicRef)p.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const h=n._`${d}, ${r.object(...p)}`;return l!==n.nil?n._`${u}.call(${l}, ${h})`:n._`${u}(${h})`}t.callValidateCode=callValidateCode;function usePattern({gen:e,it:{opts:t}},r){const o=t.unicodeRegExp?"u":"";return e.scopeValue("pattern",{key:r,ref:new RegExp(r,o),code:n._`new RegExp(${r}, ${o})`})}t.usePattern=usePattern;function validateArray(e){const{gen:t,data:r,keyword:s,it:a}=e;const i=t.name("valid");if(a.allErrors){const e=t.let("valid",true);validateItems((()=>t.assign(e,false)));return e}t.var(i,true);validateItems((()=>t.break()));return i;function validateItems(a){const c=t.const("len",n._`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:s,dataProp:r,dataPropType:o.Type.Num},i);t.if(n.not(i),a)}))}}t.validateArray=validateArray;function validateUnion(e){const{gen:t,schema:r,keyword:s,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=r.some((e=>o.alwaysValidSchema(a,e)));if(i&&!a.opts.unevaluated)return;const c=t.let("valid",false);const u=t.name("_valid");t.block((()=>r.forEach(((r,o)=>{const a=e.subschema({keyword:s,schemaProp:o,compositeRule:true},u);t.assign(c,n._`${c} || ${u}`);const i=e.mergeValidEvaluated(a,u);if(!i)t.if(n.not(c))}))));e.result(c,(()=>e.reset()),(()=>e.error(true)))}t.validateUnion=validateUnion},1674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},3707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(1674);const o=r(6532);const s=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,o.default];t.default=s},6532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.callRef=t.getValidate=void 0;const n=r(8190);const o=r(4205);const s=r(9179);const a=r(50);const i=r(813);const c=r(3439);const u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:o}=e;const{baseId:a,schemaEnv:c,validateName:u,opts:l,self:f}=o;const{root:d}=c;if((r==="#"||r==="#/")&&a===d.baseId)return callRootRef();const p=i.resolveRef.call(f,d,a,r);if(p===undefined)throw new n.default(a,r);if(p instanceof i.SchemaEnv)return callValidate(p);return inlineRefSchema(p);function callRootRef(){if(c===d)return callRef(e,u,c,c.$async);const r=t.scopeValue("root",{ref:d});return callRef(e,s._`${r}.validate`,d,d.$async)}function callValidate(t){const r=getValidate(e,t);callRef(e,r,t,t.$async)}function inlineRefSchema(n){const o=t.scopeValue("schema",l.code.source===true?{ref:n,code:s.stringify(n)}:{ref:n});const a=t.name("valid");const i=e.subschema({schema:n,dataTypes:[],schemaPath:s.nil,topSchemaRef:o,errSchemaPath:r},a);e.mergeEvaluated(i);e.ok(a)}}};function getValidate(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):s._`${r.scopeValue("wrapper",{ref:t})}.validate`}t.getValidate=getValidate;function callRef(e,t,r,n){const{gen:i,it:u}=e;const{allErrors:l,schemaEnv:f,opts:d}=u;const p=d.passContext?a.default.this:s.nil;if(n)callAsyncRef();else callSyncRef();function callAsyncRef(){if(!f.$async)throw new Error("async schema referenced by sync schema");const r=i.let("valid");i.try((()=>{i.code(s._`await ${o.callValidateCode(e,t,p)}`);addEvaluatedFrom(t);if(!l)i.assign(r,true)}),(e=>{i.if(s._`!(${e} instanceof ${u.ValidationError})`,(()=>i.throw(e)));addErrorsFrom(e);if(!l)i.assign(r,false)}));e.ok(r)}function callSyncRef(){e.result(o.callValidateCode(e,t,p),(()=>addEvaluatedFrom(t)),(()=>addErrorsFrom(t)))}function addErrorsFrom(e){const t=s._`${e}.errors`;i.assign(a.default.vErrors,s._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`);i.assign(a.default.errors,s._`${a.default.vErrors}.length`)}function addEvaluatedFrom(e){var t;if(!u.opts.unevaluated)return;const n=(t=r===null||r===void 0?void 0:r.validate)===null||t===void 0?void 0:t.evaluated;if(u.props!==true){if(n&&!n.dynamicProps){if(n.props!==undefined){u.props=c.mergeEvaluated.props(i,n.props,u.props)}}else{const t=i.var("props",s._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(i,t,u.props,s.Name)}}if(u.items!==true){if(n&&!n.dynamicItems){if(n.items!==undefined){u.items=c.mergeEvaluated.items(i,n.items,u.items)}}else{const t=i.var("items",s._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(i,t,u.items,s.Name)}}}}t.callRef=callRef;t.default=u},4025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(8374);const s={message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`};const a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(e){const{gen:t,data:r,schema:s,parentSchema:a,it:i}=e;const{oneOf:c}=a;if(!i.opts.discriminator){throw new Error("discriminator: requires discriminator option")}const u=s.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",false);const f=t.const("tag",n._`${r}${n.getProperty(u)}`);t.if(n._`typeof ${f} == "string"`,(()=>validateMapping()),(()=>e.error(false,{discrError:o.DiscrError.Tag,tag:f,tagName:u})));e.ok(l);function validateMapping(){const r=getMapping();t.if(false);for(const e in r){t.elseIf(n._`${f} === ${e}`);t.assign(l,applyTagSchema(r[e]))}t.else();e.error(false,{discrError:o.DiscrError.Mapping,tag:f,tagName:u});t.endIf()}function applyTagSchema(r){const o=t.name("valid");const s=e.subschema({keyword:"oneOf",schemaProp:r},o);e.mergeEvaluated(s,n.Name);return o}function getMapping(){var e;const t={};const r=hasRequired(a);let n=true;for(let t=0;t<c.length;t++){const o=c[t];const s=(e=o.properties)===null||e===void 0?void 0:e[u];if(typeof s!="object"){throw new Error(`discriminator: oneOf schemas must have "properties/${u}"`)}n=n&&(r||hasRequired(o));addMappings(s,t)}if(!n)throw new Error(`discriminator: "${u}" must be required`);return t;function hasRequired({required:e}){return Array.isArray(e)&&e.includes(u)}function addMappings(e,t){if(e.const){addMapping(e.const,t)}else if(e.enum){for(const r of e.enum){addMapping(r,t)}}else{throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}}function addMapping(e,r){if(typeof e!="string"||e in t){throw new Error(`discriminator: "${u}" values must be unique strings`)}t[e]=r}}}};t.default=a},8374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DiscrError=void 0;var r;(function(e){e["Tag"]="tag";e["Mapping"]="mapping"})(r=t.DiscrError||(t.DiscrError={}))},691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3707);const o=r(9805);const s=r(3048);const a=r(9841);const i=r(5799);const c=[n.default,o.default,s.default(),a.default,i.metadataVocabulary,i.contentVocabulary];t.default=c},3691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o={message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`};const s={keyword:"format",type:["number","string"],schemaType:"string",$data:true,error:o,code(e,t){const{gen:r,data:o,$data:s,schema:a,schemaCode:i,it:c}=e;const{opts:u,errSchemaPath:l,schemaEnv:f,self:d}=c;if(!u.validateFormats)return;if(s)validate$DataFormat();else validateFormat();function validate$DataFormat(){const s=r.scopeValue("formats",{ref:d.formats,code:u.code.formats});const a=r.const("fDef",n._`${s}[${i}]`);const c=r.let("fType");const l=r.let("format");r.if(n._`typeof ${a} == "object" && !(${a} instanceof RegExp)`,(()=>r.assign(c,n._`${a}.type || "string"`).assign(l,n._`${a}.validate`)),(()=>r.assign(c,n._`"string"`).assign(l,a)));e.fail$data(n.or(unknownFmt(),invalidFmt()));function unknownFmt(){if(u.strictSchema===false)return n.nil;return n._`${i} && !${l}`}function invalidFmt(){const e=f.$async?n._`(${a}.async ? await ${l}(${o}) : ${l}(${o}))`:n._`${l}(${o})`;const r=n._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return n._`${l} && ${l} !== true && ${c} === ${t} && !${r}`}}function validateFormat(){const s=d.formats[a];if(!s){unknownFormat();return}if(s===true)return;const[i,c,p]=getFormat(s);if(i===t)e.pass(validCondition());function unknownFormat(){if(u.strictSchema===false){d.logger.warn(unknownMsg());return}throw new Error(unknownMsg());function unknownMsg(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function getFormat(e){const t=e instanceof RegExp?n.regexpCode(e):u.code.formats?n._`${u.code.formats}${n.getProperty(a)}`:undefined;const o=r.scopeValue("formats",{key:a,ref:e,code:t});if(typeof e=="object"&&!(e instanceof RegExp)){return[e.type||"string",e.validate,n._`${o}.validate`]}return["string",e,o]}function validCondition(){if(typeof s=="object"&&!(s instanceof RegExp)&&s.async){if(!f.$async)throw new Error("async format in sync schema");return n._`await ${p}(${o})`}return typeof c=="function"?n._`${p}(${o})`:n._`${p}.test(${o})`}}}};t.default=s},9841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(3691);const o=[n.default];t.default=o},5799:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.contentVocabulary=t.metadataVocabulary=void 0;t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},3694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s=r(3809);const a={message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`};const i={keyword:"const",$data:true,error:a,code(e){const{gen:t,data:r,schemaCode:a}=e;e.fail$data(n._`!${o.useFunc(t,s.default)}(${r}, ${a})`)}};t.default=i},5529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s=r(3809);const a={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`};const i={keyword:"enum",schemaType:"array",$data:true,error:a,code(e){const{gen:t,data:r,$data:a,schema:i,schemaCode:c,it:u}=e;if(!a&&i.length===0)throw new Error("enum must have non-empty array");const l=i.length>=u.opts.loopEnum;const f=o.useFunc(t,s.default);let d;if(l||a){d=t.let("valid");e.block$data(d,loopEnum)}else{if(!Array.isArray(i))throw new Error("ajv implementation error");const e=t.const("vSchema",c);d=n.or(...i.map(((t,r)=>equalCode(e,r))))}e.pass(d);function loopEnum(){t.assign(d,false);t.forOf("v",c,(e=>t.if(n._`${f}(${r}, ${e})`,(()=>t.assign(d,true).break()))))}function equalCode(e,t){const o=i[t];return o&&typeof o==="object"?n._`${f}(${r}, ${e}[${t}])`:n._`${r} === ${o}`}}};t.default=i},9805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(345);const o=r(3201);const s=r(7598);const a=r(4960);const i=r(3470);const c=r(3602);const u=r(3924);const l=r(9351);const f=r(3694);const d=r(5529);const p=[n.default,o.default,s.default,a.default,i.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=p},3924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`};const s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:true,error:o,code(e){const{keyword:t,data:r,schemaCode:o}=e;const s=t==="maxItems"?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${s} ${o}`)}};t.default=s},7598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=r(3439);const s=r(2470);const a={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`};const i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:true,error:a,code(e){const{keyword:t,data:r,schemaCode:a,it:i}=e;const c=t==="maxLength"?n.operators.GT:n.operators.LT;const u=i.opts.unicode===false?n._`${r}.length`:n._`${o.useFunc(e.gen,s.default)}(${r})`;e.fail$data(n._`${u} ${c} ${a}`)}};t.default=i},345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o=n.operators;const s={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}};const a={message:({keyword:e,schemaCode:t})=>n.str`must be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${s[e].okStr}, limit: ${t}}`};const i={keyword:Object.keys(s),type:"number",schemaType:"number",$data:true,error:a,code(e){const{keyword:t,data:r,schemaCode:o}=e;e.fail$data(n._`${r} ${s[t].fail} ${o} || isNaN(${r})`)}};t.default=i},3470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`};const s={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:true,error:o,code(e){const{keyword:t,data:r,schemaCode:o}=e;const s=t==="maxProperties"?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${s} ${o}`)}};t.default=s},3201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(9179);const o={message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`};const s={keyword:"multipleOf",type:"number",schemaType:"number",$data:true,error:o,code(e){const{gen:t,data:r,schemaCode:o,it:s}=e;const a=s.opts.multipleOfPrecision;const i=t.let("res");const c=a?n._`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:n._`${i} !== parseInt(${i})`;e.fail$data(n._`(${o} === 0 || (${i} = ${r}/${o}, ${c}))`)}};t.default=s},4960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4205);const o=r(9179);const s={message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`};const a={keyword:"pattern",type:"string",schemaType:"string",$data:true,error:s,code(e){const{data:t,$data:r,schema:s,schemaCode:a,it:i}=e;const c=i.opts.unicodeRegExp?"u":"";const u=r?o._`(new RegExp(${a}, ${c}))`:n.usePattern(e,s);e.fail$data(o._`!${u}.test(${t})`)}};t.default=a},3602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(4205);const o=r(9179);const s=r(3439);const a={message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`};const i={keyword:"required",type:"object",schemaType:"array",$data:true,error:a,code(e){const{gen:t,schema:r,schemaCode:a,data:i,$data:c,it:u}=e;const{opts:l}=u;if(!c&&r.length===0)return;const f=r.length>=l.loopRequired;if(u.allErrors)allErrorsMode();else exitOnErrorMode();if(l.strictRequired){const t=e.parentSchema.properties;const{definedProperties:n}=e.it;for(const e of r){if((t===null||t===void 0?void 0:t[e])===undefined&&!n.has(e)){const t=u.schemaEnv.baseId+u.errSchemaPath;const r=`required property "${e}" is not defined at "${t}" (strictRequired)`;s.checkStrictMode(u,r,u.opts.strictRequired)}}}function allErrorsMode(){if(f||c){e.block$data(o.nil,loopAllRequired)}else{for(const t of r){n.checkReportMissingProp(e,t)}}}function exitOnErrorMode(){const o=t.let("missing");if(f||c){const r=t.let("valid",true);e.block$data(r,(()=>loopUntilMissing(o,r)));e.ok(r)}else{t.if(n.checkMissingProp(e,r,o));n.reportMissingProp(e,o);t.else()}}function loopAllRequired(){t.forOf("prop",a,(r=>{e.setParams({missingProperty:r});t.if(n.noPropertyInData(t,i,r,l.ownProperties),(()=>e.error()))}))}function loopUntilMissing(r,s){e.setParams({missingProperty:r});t.forOf(r,a,(()=>{t.assign(s,n.propertyInData(t,i,r,l.ownProperties));t.if(o.not(s),(()=>{e.error();t.break()}))}),o.nil)}}};t.default=i},9351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(7725);const o=r(9179);const s=r(3439);const a=r(3809);const i={message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`};const c={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:true,error:i,code(e){const{gen:t,data:r,$data:i,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!i&&!c)return;const d=t.let("valid");const p=u.items?n.getSchemaTypes(u.items):[];e.block$data(d,validateUniqueItems,o._`${l} === false`);e.ok(d);function validateUniqueItems(){const n=t.let("i",o._`${r}.length`);const s=t.let("j");e.setParams({i:n,j:s});t.assign(d,true);t.if(o._`${n} > 1`,(()=>(canOptimize()?loopN:loopN2)(n,s)))}function canOptimize(){return p.length>0&&!p.some((e=>e==="object"||e==="array"))}function loopN(s,a){const i=t.name("item");const c=n.checkDataTypes(p,i,f.opts.strictNumbers,n.DataType.Wrong);const u=t.const("indices",o._`{}`);t.for(o._`;${s}--;`,(()=>{t.let(i,o._`${r}[${s}]`);t.if(c,o._`continue`);if(p.length>1)t.if(o._`typeof ${i} == "string"`,o._`${i} += "_"`);t.if(o._`typeof ${u}[${i}] == "number"`,(()=>{t.assign(a,o._`${u}[${i}]`);e.error();t.assign(d,false).break()})).code(o._`${u}[${i}] = ${s}`)}))}function loopN2(n,i){const c=s.useFunc(t,a.default);const u=t.name("outer");t.label(u).for(o._`;${n}--;`,(()=>t.for(o._`${i} = ${n}; ${i}--;`,(()=>t.if(o._`${c}(${r}[${n}], ${r}[${i}])`,(()=>{e.error();t.assign(d,false).break(u)}))))))}}};t.default=c},8206:e=>{"use strict";e.exports=function equal(e,t){if(e===t)return true;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return false;var r,n,o;if(Array.isArray(e)){r=e.length;if(r!=t.length)return false;for(n=r;n--!==0;)if(!equal(e[n],t[n]))return false;return true}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();o=Object.keys(e);r=o.length;if(r!==Object.keys(t).length)return false;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return false;for(n=r;n--!==0;){var s=o[n];if(!equal(e[s],t[s]))return false}return true}return e!==e&&t!==t}},2533:e=>{"use strict";var t=e.exports=function(e,t,r){if(typeof t=="function"){r=t;t={}}r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){};var o=r.post||function(){};_traverse(t,n,o,e,"",e)};t.keywords={additionalItems:true,items:true,contains:true,additionalProperties:true,propertyNames:true,not:true,if:true,then:true,else:true};t.arrayKeywords={items:true,allOf:true,anyOf:true,oneOf:true};t.propsKeywords={$defs:true,definitions:true,properties:true,patternProperties:true,dependencies:true};t.skipKeywords={default:true,enum:true,const:true,required:true,maximum:true,minimum:true,exclusiveMaximum:true,exclusiveMinimum:true,multipleOf:true,maxLength:true,minLength:true,pattern:true,format:true,maxItems:true,minItems:true,uniqueItems:true,maxProperties:true,minProperties:true};function _traverse(e,r,n,o,s,a,i,c,u,l){if(o&&typeof o=="object"&&!Array.isArray(o)){r(o,s,a,i,c,u,l);for(var f in o){var d=o[f];if(Array.isArray(d)){if(f in t.arrayKeywords){for(var p=0;p<d.length;p++)_traverse(e,r,n,d[p],s+"/"+f+"/"+p,a,s,f,o,p)}}else if(f in t.propsKeywords){if(d&&typeof d=="object"){for(var h in d)_traverse(e,r,n,d[h],s+"/"+f+"/"+escapeJsonPtr(h),a,s,f,o,h)}}else if(f in t.keywords||e.allKeys&&!(f in t.skipKeywords)){_traverse(e,r,n,d,s+"/"+f,a,s,f,o)}}n(o,s,a,i,c,u,l)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var n=_interopDefault(r(2413));var o=_interopDefault(r(8605));var s=_interopDefault(r(8835));var a=_interopDefault(r(7211));var i=_interopDefault(r(8761));const c=n.Readable;const u=Symbol("buffer");const l=Symbol("type");class Blob{constructor(){this[l]="";const e=arguments[0];const t=arguments[1];const r=[];let n=0;if(e){const t=e;const o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let s;if(o instanceof Buffer){s=o}else if(ArrayBuffer.isView(o)){s=Buffer.from(o.buffer,o.byteOffset,o.byteLength)}else if(o instanceof ArrayBuffer){s=Buffer.from(o)}else if(o instanceof Blob){s=o[u]}else{s=Buffer.from(typeof o==="string"?o:String(o))}n+=s.length;r.push(s)}}this[u]=Buffer.concat(r);let o=t&&t.type!==undefined&&String(t.type).toLowerCase();if(o&&!/[^\u0020-\u007E]/.test(o)){this[l]=o}}get size(){return this[u].length}get type(){return this[l]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u];const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;e._read=function(){};e.push(this[u]);e.push(null);return e}toString(){return"[object Blob]"}slice(){const e=this.size;const t=arguments[0];const r=arguments[1];let n,o;if(t===undefined){n=0}else if(t<0){n=Math.max(e+t,0)}else{n=Math.min(t,e)}if(r===undefined){o=e}else if(r<0){o=Math.max(e+r,0)}else{o=Math.min(r,e)}const s=Math.max(o-n,0);const a=this[u];const i=a.slice(n,n+s);const c=new Blob([],{type:arguments[2]});c[u]=i;return c}}Object.defineProperties(Blob.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:false,enumerable:false,configurable:true});function FetchError(e,t,r){Error.call(this,e);this.message=e;this.type=t;if(r){this.code=this.errno=r.code}Error.captureStackTrace(this,this.constructor)}FetchError.prototype=Object.create(Error.prototype);FetchError.prototype.constructor=FetchError;FetchError.prototype.name="FetchError";let f;try{f=r(2877).convert}catch(e){}const d=Symbol("Body internals");const p=n.PassThrough;function Body(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=r.size;let s=o===undefined?0:o;var a=r.timeout;let i=a===undefined?0:a;if(e==null){e=null}else if(isURLSearchParams(e)){e=Buffer.from(e.toString())}else if(isBlob(e));else if(Buffer.isBuffer(e));else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){e=Buffer.from(e)}else if(ArrayBuffer.isView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(e instanceof n);else{e=Buffer.from(String(e))}this[d]={body:e,disturbed:false,error:null};this.size=s;this.timeout=i;if(e instanceof n){e.on("error",(function(e){const r=e.name==="AbortError"?e:new FetchError(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[d].error=r}))}}Body.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return consumeBody.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then((function(t){return Object.assign(new Blob([],{type:e.toLowerCase()}),{[u]:t})}))},json(){var e=this;return consumeBody.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return Body.Promise.reject(new FetchError(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return consumeBody.call(this).then((function(e){return e.toString()}))},buffer(){return consumeBody.call(this)},textConverted(){var e=this;return consumeBody.call(this).then((function(t){return convertBody(t,e.headers)}))}};Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});Body.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Body.prototype)){if(!(t in e)){const r=Object.getOwnPropertyDescriptor(Body.prototype,t);Object.defineProperty(e,t,r)}}};function consumeBody(){var e=this;if(this[d].disturbed){return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`))}this[d].disturbed=true;if(this[d].error){return Body.Promise.reject(this[d].error)}let t=this.body;if(t===null){return Body.Promise.resolve(Buffer.alloc(0))}if(isBlob(t)){t=t.stream()}if(Buffer.isBuffer(t)){return Body.Promise.resolve(t)}if(!(t instanceof n)){return Body.Promise.resolve(Buffer.alloc(0))}let r=[];let o=0;let s=false;return new Body.Promise((function(n,a){let i;if(e.timeout){i=setTimeout((function(){s=true;a(new FetchError(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)}t.on("error",(function(t){if(t.name==="AbortError"){s=true;a(t)}else{a(new FetchError(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}}));t.on("data",(function(t){if(s||t===null){return}if(e.size&&o+t.length>e.size){s=true;a(new FetchError(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}o+=t.length;r.push(t)}));t.on("end",(function(){if(s){return}clearTimeout(i);try{n(Buffer.concat(r,o))}catch(t){a(new FetchError(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}))}))}function convertBody(e,t){if(typeof f!=="function"){throw new Error("The package `encoding` must be installed to use the textConverted() function")}const r=t.get("content-type");let n="utf-8";let o,s;if(r){o=/charset=([^;]*)/i.exec(r)}s=e.slice(0,1024).toString();if(!o&&s){o=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)}if(!o&&s){o=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s);if(!o){o=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s);if(o){o.pop()}}if(o){o=/charset=(.*)/i.exec(o.pop())}}if(!o&&s){o=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)}if(o){n=o.pop();if(n==="gb2312"||n==="gbk"){n="gb18030"}}return f(e,"UTF-8",n).toString()}function isURLSearchParams(e){if(typeof e!=="object"||typeof e.append!=="function"||typeof e.delete!=="function"||typeof e.get!=="function"||typeof e.getAll!=="function"||typeof e.has!=="function"||typeof e.set!=="function"){return false}return e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort==="function"}function isBlob(e){return typeof e==="object"&&typeof e.arrayBuffer==="function"&&typeof e.type==="string"&&typeof e.stream==="function"&&typeof e.constructor==="function"&&typeof e.constructor.name==="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function clone(e){let t,r;let o=e.body;if(e.bodyUsed){throw new Error("cannot clone body after it is used")}if(o instanceof n&&typeof o.getBoundary!=="function"){t=new p;r=new p;o.pipe(t);o.pipe(r);e[d].body=t;o=r}return o}function extractContentType(e){if(e===null){return null}else if(typeof e==="string"){return"text/plain;charset=UTF-8"}else if(isURLSearchParams(e)){return"application/x-www-form-urlencoded;charset=UTF-8"}else if(isBlob(e)){return e.type||null}else if(Buffer.isBuffer(e)){return null}else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){return null}else if(ArrayBuffer.isView(e)){return null}else if(typeof e.getBoundary==="function"){return`multipart/form-data;boundary=${e.getBoundary()}`}else if(e instanceof n){return null}else{return"text/plain;charset=UTF-8"}}function getTotalBytes(e){const t=e.body;if(t===null){return 0}else if(isBlob(t)){return t.size}else if(Buffer.isBuffer(t)){return t.length}else if(t&&typeof t.getLengthSync==="function"){if(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength()){return t.getLengthSync()}return null}else{return null}}function writeToStream(e,t){const r=t.body;if(r===null){e.end()}else if(isBlob(r)){r.stream().pipe(e)}else if(Buffer.isBuffer(r)){e.write(r);e.end()}else{r.pipe(e)}}Body.Promise=global.Promise;const h=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;const m=/[^\t\x20-\x7e\x80-\xff]/;function validateName(e){e=`${e}`;if(h.test(e)||e===""){throw new TypeError(`${e} is not a legal HTTP header name`)}}function validateValue(e){e=`${e}`;if(m.test(e)){throw new TypeError(`${e} is not a legal HTTP header value`)}}function find(e,t){t=t.toLowerCase();for(const r in e){if(r.toLowerCase()===t){return r}}return undefined}const y=Symbol("map");class Headers{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this[y]=Object.create(null);if(e instanceof Headers){const t=e.raw();const r=Object.keys(t);for(const e of r){for(const r of t[e]){this.append(e,r)}}return}if(e==null);else if(typeof e==="object"){const t=e[Symbol.iterator];if(t!=null){if(typeof t!=="function"){throw new TypeError("Header pairs must be iterable")}const r=[];for(const t of e){if(typeof t!=="object"||typeof t[Symbol.iterator]!=="function"){throw new TypeError("Each header pair must be iterable")}r.push(Array.from(t))}for(const e of r){if(e.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}this.append(e[0],e[1])}}else{for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}else{throw new TypeError("Provided initializer must be an object")}}get(e){e=`${e}`;validateName(e);const t=find(this[y],e);if(t===undefined){return null}return this[y][t].join(", ")}forEach(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;let r=getHeaders(this);let n=0;while(n<r.length){var o=r[n];const s=o[0],a=o[1];e.call(t,a,s,this);r=getHeaders(this);n++}}set(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const r=find(this[y],e);this[y][r!==undefined?r:e]=[t]}append(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const r=find(this[y],e);if(r!==undefined){this[y][r].push(t)}else{this[y][e]=[t]}}has(e){e=`${e}`;validateName(e);return find(this[y],e)!==undefined}delete(e){e=`${e}`;validateName(e);const t=find(this[y],e);if(t!==undefined){delete this[y][t]}}raw(){return this[y]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}Headers.prototype.entries=Headers.prototype[Symbol.iterator];Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:false,enumerable:false,configurable:true});Object.defineProperties(Headers.prototype,{get:{enumerable:true},forEach:{enumerable:true},set:{enumerable:true},append:{enumerable:true},has:{enumerable:true},delete:{enumerable:true},keys:{enumerable:true},values:{enumerable:true},entries:{enumerable:true}});function getHeaders(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"key+value";const r=Object.keys(e[y]).sort();return r.map(t==="key"?function(e){return e.toLowerCase()}:t==="value"?function(t){return e[y][t].join(", ")}:function(t){return[t.toLowerCase(),e[y][t].join(", ")]})}const g=Symbol("internal");function createHeadersIterator(e,t){const r=Object.create(v);r[g]={target:e,kind:t,index:0};return r}const v=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==v){throw new TypeError("Value of `this` is not a HeadersIterator")}var e=this[g];const t=e.target,r=e.kind,n=e.index;const o=getHeaders(t,r);const s=o.length;if(n>=s){return{value:undefined,done:true}}this[g].index=n+1;return{value:o[n],done:false}}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(v,Symbol.toStringTag,{value:"HeadersIterator",writable:false,enumerable:false,configurable:true});function exportNodeCompatibleHeaders(e){const t=Object.assign({__proto__:null},e[y]);const r=find(e[y],"Host");if(r!==undefined){t[r]=t[r][0]}return t}function createHeadersLenient(e){const t=new Headers;for(const r of Object.keys(e)){if(h.test(r)){continue}if(Array.isArray(e[r])){for(const n of e[r]){if(m.test(n)){continue}if(t[y][r]===undefined){t[y][r]=[n]}else{t[y][r].push(n)}}}else if(!m.test(e[r])){t[y][r]=[e[r]]}}return t}const b=Symbol("Response internals");const w=o.STATUS_CODES;class Response{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Body.call(this,e,t);const r=t.status||200;const n=new Headers(t.headers);if(e!=null&&!n.has("Content-Type")){const t=extractContentType(e);if(t){n.append("Content-Type",t)}}this[b]={url:t.url,status:r,statusText:t.statusText||w[r],headers:n,counter:t.counter}}get url(){return this[b].url||""}get status(){return this[b].status}get ok(){return this[b].status>=200&&this[b].status<300}get redirected(){return this[b].counter>0}get statusText(){return this[b].statusText}get headers(){return this[b].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype);Object.defineProperties(Response.prototype,{url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:false,enumerable:false,configurable:true});const $=Symbol("Request internals");const S=s.parse;const E=s.format;const C="destroy"in n.Readable.prototype;function isRequest(e){return typeof e==="object"&&typeof e[$]==="object"}function isAbortSignal(e){const t=e&&typeof e==="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}class Request{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let r;if(!isRequest(e)){if(e&&e.href){r=S(e.href)}else{r=S(`${e}`)}e={}}else{r=S(e.url)}let n=t.method||e.method||"GET";n=n.toUpperCase();if((t.body!=null||isRequest(e)&&e.body!==null)&&(n==="GET"||n==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}let o=t.body!=null?t.body:isRequest(e)&&e.body!==null?clone(e):null;Body.call(this,o,{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0});const s=new Headers(t.headers||e.headers||{});if(o!=null&&!s.has("Content-Type")){const e=extractContentType(o);if(e){s.append("Content-Type",e)}}let a=isRequest(e)?e.signal:null;if("signal"in t)a=t.signal;if(a!=null&&!isAbortSignal(a)){throw new TypeError("Expected signal to be an instanceof AbortSignal")}this[$]={method:n,redirect:t.redirect||e.redirect||"follow",headers:s,parsedURL:r,signal:a};this.follow=t.follow!==undefined?t.follow:e.follow!==undefined?e.follow:20;this.compress=t.compress!==undefined?t.compress:e.compress!==undefined?e.compress:true;this.counter=t.counter||e.counter||0;this.agent=t.agent||e.agent}get method(){return this[$].method}get url(){return E(this[$].parsedURL)}get headers(){return this[$].headers}get redirect(){return this[$].redirect}get signal(){return this[$].signal}clone(){return new Request(this)}}Body.mixIn(Request.prototype);Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:false,enumerable:false,configurable:true});Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});function getNodeRequestOptions(e){const t=e[$].parsedURL;const r=new Headers(e[$].headers);if(!r.has("Accept")){r.set("Accept","*/*")}if(!t.protocol||!t.hostname){throw new TypeError("Only absolute URLs are supported")}if(!/^https?:$/.test(t.protocol)){throw new TypeError("Only HTTP(S) protocols are supported")}if(e.signal&&e.body instanceof n.Readable&&!C){throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8")}let o=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)){o="0"}if(e.body!=null){const t=getTotalBytes(e);if(typeof t==="number"){o=String(t)}}if(o){r.set("Content-Length",o)}if(!r.has("User-Agent")){r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)")}if(e.compress&&!r.has("Accept-Encoding")){r.set("Accept-Encoding","gzip,deflate")}let s=e.agent;if(typeof s==="function"){s=s(t)}if(!r.has("Connection")&&!s){r.set("Connection","close")}return Object.assign({},t,{method:e.method,headers:exportNodeCompatibleHeaders(r),agent:s})}function AbortError(e){Error.call(this,e);this.type="aborted";this.message=e;Error.captureStackTrace(this,this.constructor)}AbortError.prototype=Object.create(Error.prototype);AbortError.prototype.constructor=AbortError;AbortError.prototype.name="AbortError";const P=n.PassThrough;const k=s.resolve;function fetch(e,t){if(!fetch.Promise){throw new Error("native promise missing, set fetch.Promise to your favorite alternative")}Body.Promise=fetch.Promise;return new fetch.Promise((function(r,s){const c=new Request(e,t);const u=getNodeRequestOptions(c);const l=(u.protocol==="https:"?a:o).request;const f=c.signal;let d=null;const p=function abort(){let e=new AbortError("The user aborted a request.");s(e);if(c.body&&c.body instanceof n.Readable){c.body.destroy(e)}if(!d||!d.body)return;d.body.emit("error",e)};if(f&&f.aborted){p();return}const h=function abortAndFinalize(){p();finalize()};const m=l(u);let y;if(f){f.addEventListener("abort",h)}function finalize(){m.abort();if(f)f.removeEventListener("abort",h);clearTimeout(y)}if(c.timeout){m.once("socket",(function(e){y=setTimeout((function(){s(new FetchError(`network timeout at: ${c.url}`,"request-timeout"));finalize()}),c.timeout)}))}m.on("error",(function(e){s(new FetchError(`request to ${c.url} failed, reason: ${e.message}`,"system",e));finalize()}));m.on("response",(function(e){clearTimeout(y);const t=createHeadersLenient(e.headers);if(fetch.isRedirect(e.statusCode)){const n=t.get("Location");const o=n===null?null:k(c.url,n);switch(c.redirect){case"error":s(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect"));finalize();return;case"manual":if(o!==null){try{t.set("Location",o)}catch(e){s(e)}}break;case"follow":if(o===null){break}if(c.counter>=c.follow){s(new FetchError(`maximum redirect reached at: ${c.url}`,"max-redirect"));finalize();return}const n={headers:new Headers(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};if(e.statusCode!==303&&c.body&&getTotalBytes(c)===null){s(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&c.method==="POST"){n.method="GET";n.body=undefined;n.headers.delete("content-length")}r(fetch(new Request(o,n)));finalize();return}}e.once("end",(function(){if(f)f.removeEventListener("abort",h)}));let n=e.pipe(new P);const o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter};const a=t.get("Content-Encoding");if(!c.compress||c.method==="HEAD"||a===null||e.statusCode===204||e.statusCode===304){d=new Response(n,o);r(d);return}const u={flush:i.Z_SYNC_FLUSH,finishFlush:i.Z_SYNC_FLUSH};if(a=="gzip"||a=="x-gzip"){n=n.pipe(i.createGunzip(u));d=new Response(n,o);r(d);return}if(a=="deflate"||a=="x-deflate"){const t=e.pipe(new P);t.once("data",(function(e){if((e[0]&15)===8){n=n.pipe(i.createInflate())}else{n=n.pipe(i.createInflateRaw())}d=new Response(n,o);r(d)}));return}if(a=="br"&&typeof i.createBrotliDecompress==="function"){n=n.pipe(i.createBrotliDecompress());d=new Response(n,o);r(d);return}d=new Response(n,o);r(d)}));writeToStream(m,c)}))}fetch.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};fetch.Promise=global.Promise;e.exports=t=fetch;Object.defineProperty(t,"__esModule",{value:true});t.default=t;t.Headers=Headers;t.Request=Request;t.Response=Response;t.FetchError=FetchError},20:function(e,t){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(e,r){true?r(t):0})(this,(function(e){"use strict";function merge(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(t.length>1){t[0]=t[0].slice(0,-1);var n=t.length-1;for(var o=1;o<n;++o){t[o]=t[o].slice(1,-1)}t[n]=t[n].slice(1);return t.join("")}else{return t[0]}}function subexp(e){return"(?:"+e+")"}function typeOf(e){return e===undefined?"undefined":e===null?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(e){return e.toUpperCase()}function toArray(e){return e!==undefined&&e!==null?e instanceof Array?e:typeof e.length!=="number"||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function assign(e,t){var r=e;if(t){for(var n in t){r[n]=t[n]}}return r}function buildExps(e){var t="[A-Za-z]",r="[\\x0D]",n="[0-9]",o="[\\x22]",s=merge(n,"[A-Fa-f]"),a="[\\x0A]",i="[\\x20]",c=subexp(subexp("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+subexp("%[89A-Fa-f]"+s+"%"+s+s)+"|"+subexp("%"+s+s)),u="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",f=merge(u,l),d=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",p=e?"[\\uE000-\\uF8FF]":"[]",h=merge(t,n,"[\\-\\.\\_\\~]",d),m=subexp(t+merge(t,n,"[\\+\\-\\.]")+"*"),y=subexp(subexp(c+"|"+merge(h,l,"[\\:]"))+"*"),g=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+n)+"|"+subexp("1"+n+n)+"|"+subexp("[1-9]"+n)+"|"+n),v=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+n)+"|"+subexp("1"+n+n)+"|"+subexp("0?[1-9]"+n)+"|0?0?"+n),b=subexp(v+"\\."+v+"\\."+v+"\\."+v),w=subexp(s+"{1,4}"),$=subexp(subexp(w+"\\:"+w)+"|"+b),S=subexp(subexp(w+"\\:")+"{6}"+$),E=subexp("\\:\\:"+subexp(w+"\\:")+"{5}"+$),C=subexp(subexp(w)+"?\\:\\:"+subexp(w+"\\:")+"{4}"+$),P=subexp(subexp(subexp(w+"\\:")+"{0,1}"+w)+"?\\:\\:"+subexp(w+"\\:")+"{3}"+$),k=subexp(subexp(subexp(w+"\\:")+"{0,2}"+w)+"?\\:\\:"+subexp(w+"\\:")+"{2}"+$),x=subexp(subexp(subexp(w+"\\:")+"{0,3}"+w)+"?\\:\\:"+w+"\\:"+$),O=subexp(subexp(subexp(w+"\\:")+"{0,4}"+w)+"?\\:\\:"+$),N=subexp(subexp(subexp(w+"\\:")+"{0,5}"+w)+"?\\:\\:"+w),A=subexp(subexp(subexp(w+"\\:")+"{0,6}"+w)+"?\\:\\:"),T=subexp([S,E,C,P,k,x,O,N,A].join("|")),j=subexp(subexp(h+"|"+c)+"+"),I=subexp(T+"\\%25"+j),R=subexp(T+subexp("\\%25|\\%(?!"+s+"{2})")+j),D=subexp("[vV]"+s+"+\\."+merge(h,l,"[\\:]")+"+"),M=subexp("\\["+subexp(R+"|"+T+"|"+D)+"\\]"),F=subexp(subexp(c+"|"+merge(h,l))+"*"),L=subexp(M+"|"+b+"(?!"+F+")"+"|"+F),U=subexp(n+"*"),q=subexp(subexp(y+"@")+"?"+L+subexp("\\:"+U)+"?"),V=subexp(c+"|"+merge(h,l,"[\\:\\@]")),B=subexp(V+"*"),z=subexp(V+"+"),K=subexp(subexp(c+"|"+merge(h,l,"[\\@]"))+"+"),H=subexp(subexp("\\/"+B)+"*"),Y=subexp("\\/"+subexp(z+H)+"?"),G=subexp(K+H),W=subexp(z+H),J="(?!"+V+")",Z=subexp(H+"|"+Y+"|"+G+"|"+W+"|"+J),Q=subexp(subexp(V+"|"+merge("[\\/\\?]",p))+"*"),X=subexp(subexp(V+"|[\\/\\?]")+"*"),ee=subexp(subexp("\\/\\/"+q+H)+"|"+Y+"|"+W+"|"+J),te=subexp(m+"\\:"+ee+subexp("\\?"+Q)+"?"+subexp("\\#"+X)+"?"),re=subexp(subexp("\\/\\/"+q+H)+"|"+Y+"|"+G+"|"+J),ne=subexp(re+subexp("\\?"+Q)+"?"+subexp("\\#"+X)+"?"),oe=subexp(te+"|"+ne),se=subexp(m+"\\:"+ee+subexp("\\?"+Q)+"?"),ae="^("+m+")\\:"+subexp(subexp("\\/\\/("+subexp("("+y+")@")+"?("+L+")"+subexp("\\:("+U+")")+"?)")+"?("+H+"|"+Y+"|"+W+"|"+J+")")+subexp("\\?("+Q+")")+"?"+subexp("\\#("+X+")")+"?$",ie="^(){0}"+subexp(subexp("\\/\\/("+subexp("("+y+")@")+"?("+L+")"+subexp("\\:("+U+")")+"?)")+"?("+H+"|"+Y+"|"+G+"|"+J+")")+subexp("\\?("+Q+")")+"?"+subexp("\\#("+X+")")+"?$",ce="^("+m+")\\:"+subexp(subexp("\\/\\/("+subexp("("+y+")@")+"?("+L+")"+subexp("\\:("+U+")")+"?)")+"?("+H+"|"+Y+"|"+W+"|"+J+")")+subexp("\\?("+Q+")")+"?$",ue="^"+subexp("\\#("+X+")")+"?$",le="^"+subexp("("+y+")@")+"?("+L+")"+subexp("\\:("+U+")")+"?$";return{NOT_SCHEME:new RegExp(merge("[^]",t,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",h,l),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",h,l),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",h,l),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",h,l),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",h,l,"[\\:\\@\\/\\?]",p),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",h,l,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",h,l),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",h,f),"g"),PCT_ENCODED:new RegExp(c,"g"),IPV4ADDRESS:new RegExp("^("+b+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+subexp(subexp("\\%25|\\%(?!"+s+"{2})")+"("+j+")")+"?\\]?$")}}var t=buildExps(false);var r=buildExps(true);var n=function(){function sliceIterator(e,t){var r=[];var n=true;var o=false;var s=undefined;try{for(var a=e[Symbol.iterator](),i;!(n=(i=a.next()).done);n=true){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=true;s=e}finally{try{if(!n&&a["return"])a["return"]()}finally{if(o)throw s}}return r}return function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var o=2147483647;var s=36;var a=1;var i=26;var c=38;var u=700;var l=72;var f=128;var d="-";var p=/^xn--/;var h=/[^\0-\x7E]/;var m=/[\x2E\u3002\uFF0E\uFF61]/g;var y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var g=s-a;var v=Math.floor;var b=String.fromCharCode;function error$1(e){throw new RangeError(y[e])}function map(e,t){var r=[];var n=e.length;while(n--){r[n]=t(e[n])}return r}function mapDomain(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(m,".");var o=e.split(".");var s=map(o,t).join(".");return n+s}function ucs2decode(e){var t=[];var r=0;var n=e.length;while(r<n){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((o&1023)<<10)+(s&1023)+65536)}else{t.push(o);r--}}else{t.push(o)}}return t}var w=function ucs2encode(e){return String.fromCodePoint.apply(String,toConsumableArray(e))};var $=function basicToDigit(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return s};var S=function digitToBasic(e,t){return e+22+75*(e<26)-((t!=0)<<5)};var E=function adapt(e,t,r){var n=0;e=r?v(e/u):e>>1;e+=v(e/t);for(;e>g*i>>1;n+=s){e=v(e/g)}return v(n+(g+1)*e/(e+c))};var C=function decode(e){var t=[];var r=e.length;var n=0;var c=f;var u=l;var p=e.lastIndexOf(d);if(p<0){p=0}for(var h=0;h<p;++h){if(e.charCodeAt(h)>=128){error$1("not-basic")}t.push(e.charCodeAt(h))}for(var m=p>0?p+1:0;m<r;){var y=n;for(var g=1,b=s;;b+=s){if(m>=r){error$1("invalid-input")}var w=$(e.charCodeAt(m++));if(w>=s||w>v((o-n)/g)){error$1("overflow")}n+=w*g;var S=b<=u?a:b>=u+i?i:b-u;if(w<S){break}var C=s-S;if(g>v(o/C)){error$1("overflow")}g*=C}var P=t.length+1;u=E(n-y,P,y==0);if(v(n/P)>o-c){error$1("overflow")}c+=v(n/P);n%=P;t.splice(n++,0,c)}return String.fromCodePoint.apply(String,t)};var P=function encode(e){var t=[];e=ucs2decode(e);var r=e.length;var n=f;var c=0;var u=l;var p=true;var h=false;var m=undefined;try{for(var y=e[Symbol.iterator](),g;!(p=(g=y.next()).done);p=true){var w=g.value;if(w<128){t.push(b(w))}}}catch(e){h=true;m=e}finally{try{if(!p&&y.return){y.return()}}finally{if(h){throw m}}}var $=t.length;var C=$;if($){t.push(d)}while(C<r){var P=o;var k=true;var x=false;var O=undefined;try{for(var N=e[Symbol.iterator](),A;!(k=(A=N.next()).done);k=true){var T=A.value;if(T>=n&&T<P){P=T}}}catch(e){x=true;O=e}finally{try{if(!k&&N.return){N.return()}}finally{if(x){throw O}}}var j=C+1;if(P-n>v((o-c)/j)){error$1("overflow")}c+=(P-n)*j;n=P;var I=true;var R=false;var D=undefined;try{for(var M=e[Symbol.iterator](),F;!(I=(F=M.next()).done);I=true){var L=F.value;if(L<n&&++c>o){error$1("overflow")}if(L==n){var U=c;for(var q=s;;q+=s){var V=q<=u?a:q>=u+i?i:q-u;if(U<V){break}var B=U-V;var z=s-V;t.push(b(S(V+B%z,0)));U=v(B/z)}t.push(b(S(U,0)));u=E(c,j,C==$);c=0;++C}}}catch(e){R=true;D=e}finally{try{if(!I&&M.return){M.return()}}finally{if(R){throw D}}}++c;++n}return t.join("")};var k=function toUnicode(e){return mapDomain(e,(function(e){return p.test(e)?C(e.slice(4).toLowerCase()):e}))};var x=function toASCII(e){return mapDomain(e,(function(e){return h.test(e)?"xn--"+P(e):e}))};var O={version:"2.1.0",ucs2:{decode:ucs2decode,encode:w},decode:C,encode:P,toASCII:x,toUnicode:k};var N={};function pctEncChar(e){var t=e.charCodeAt(0);var r=void 0;if(t<16)r="%0"+t.toString(16).toUpperCase();else if(t<128)r="%"+t.toString(16).toUpperCase();else if(t<2048)r="%"+(t>>6|192).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase();else r="%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase();return r}function pctDecChars(e){var t="";var r=0;var n=e.length;while(r<n){var o=parseInt(e.substr(r+1,2),16);if(o<128){t+=String.fromCharCode(o);r+=3}else if(o>=194&&o<224){if(n-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((o&31)<<6|s&63)}else{t+=e.substr(r,6)}r+=6}else if(o>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16);var i=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((o&15)<<12|(a&63)<<6|i&63)}else{t+=e.substr(r,9)}r+=9}else{t+=e.substr(r,3);r+=3}}return t}function _normalizeComponentEncoding(e,t){function decodeUnreserved(e){var r=pctDecChars(e);return!r.match(t.UNRESERVED)?e:r}if(e.scheme)e.scheme=String(e.scheme).replace(t.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(t.NOT_SCHEME,"");if(e.userinfo!==undefined)e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_USERINFO,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.host!==undefined)e.host=String(e.host).replace(t.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(t.NOT_HOST,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.path!==undefined)e.path=String(e.path).replace(t.PCT_ENCODED,decodeUnreserved).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.query!==undefined)e.query=String(e.query).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_QUERY,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.fragment!==undefined)e.fragment=String(e.fragment).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_FRAGMENT,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);return e}function _stripLeadingZeros(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(e,t){var r=e.match(t.IPV4ADDRESS)||[];var o=n(r,2),s=o[1];if(s){return s.split(".").map(_stripLeadingZeros).join(".")}else{return e}}function _normalizeIPv6(e,t){var r=e.match(t.IPV6ADDRESS)||[];var o=n(r,3),s=o[1],a=o[2];if(s){var i=s.toLowerCase().split("::").reverse(),c=n(i,2),u=c[0],l=c[1];var f=l?l.split(":").map(_stripLeadingZeros):[];var d=u.split(":").map(_stripLeadingZeros);var p=t.IPV4ADDRESS.test(d[d.length-1]);var h=p?7:8;var m=d.length-h;var y=Array(h);for(var g=0;g<h;++g){y[g]=f[g]||d[m+g]||""}if(p){y[h-1]=_normalizeIPv4(y[h-1],t)}var v=y.reduce((function(e,t,r){if(!t||t==="0"){var n=e[e.length-1];if(n&&n.index+n.length===r){n.length++}else{e.push({index:r,length:1})}}return e}),[]);var b=v.sort((function(e,t){return t.length-e.length}))[0];var w=void 0;if(b&&b.length>1){var $=y.slice(0,b.index);var S=y.slice(b.index+b.length);w=$.join(":")+"::"+S.join(":")}else{w=y.join(":")}if(a){w+="%"+a}return w}else{return e}}var A=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;var T="".match(/(){0}/)[1]===undefined;function parse(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o={};var s=n.iri!==false?r:t;if(n.reference==="suffix")e=(n.scheme?n.scheme+":":"")+"//"+e;var a=e.match(A);if(a){if(T){o.scheme=a[1];o.userinfo=a[3];o.host=a[4];o.port=parseInt(a[5],10);o.path=a[6]||"";o.query=a[7];o.fragment=a[8];if(isNaN(o.port)){o.port=a[5]}}else{o.scheme=a[1]||undefined;o.userinfo=e.indexOf("@")!==-1?a[3]:undefined;o.host=e.indexOf("//")!==-1?a[4]:undefined;o.port=parseInt(a[5],10);o.path=a[6]||"";o.query=e.indexOf("?")!==-1?a[7]:undefined;o.fragment=e.indexOf("#")!==-1?a[8]:undefined;if(isNaN(o.port)){o.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?a[4]:undefined}}if(o.host){o.host=_normalizeIPv6(_normalizeIPv4(o.host,s),s)}if(o.scheme===undefined&&o.userinfo===undefined&&o.host===undefined&&o.port===undefined&&!o.path&&o.query===undefined){o.reference="same-document"}else if(o.scheme===undefined){o.reference="relative"}else if(o.fragment===undefined){o.reference="absolute"}else{o.reference="uri"}if(n.reference&&n.reference!=="suffix"&&n.reference!==o.reference){o.error=o.error||"URI is not a "+n.reference+" reference."}var i=N[(n.scheme||o.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!i||!i.unicodeSupport)){if(o.host&&(n.domainHost||i&&i.domainHost)){try{o.host=O.toASCII(o.host.replace(s.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){o.error=o.error||"Host's domain name can not be converted to ASCII via punycode: "+e}}_normalizeComponentEncoding(o,t)}else{_normalizeComponentEncoding(o,s)}if(i&&i.parse){i.parse(o,n)}}else{o.error=o.error||"URI can not be parsed."}return o}function _recomposeAuthority(e,n){var o=n.iri!==false?r:t;var s=[];if(e.userinfo!==undefined){s.push(e.userinfo);s.push("@")}if(e.host!==undefined){s.push(_normalizeIPv6(_normalizeIPv4(String(e.host),o),o).replace(o.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})))}if(typeof e.port==="number"||typeof e.port==="string"){s.push(":");s.push(String(e.port))}return s.length?s.join(""):undefined}var j=/^\.\.?\//;var I=/^\/\.(\/|$)/;var R=/^\/\.\.(\/|$)/;var D=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(e){var t=[];while(e.length){if(e.match(j)){e=e.replace(j,"")}else if(e.match(I)){e=e.replace(I,"/")}else if(e.match(R)){e=e.replace(R,"/");t.pop()}else if(e==="."||e===".."){e=""}else{var r=e.match(D);if(r){var n=r[0];e=e.slice(n.length);t.push(n)}else{throw new Error("Unexpected dot segment condition")}}}return t.join("")}function serialize(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o=n.iri?r:t;var s=[];var a=N[(n.scheme||e.scheme||"").toLowerCase()];if(a&&a.serialize)a.serialize(e,n);if(e.host){if(o.IPV6ADDRESS.test(e.host)){}else if(n.domainHost||a&&a.domainHost){try{e.host=!n.iri?O.toASCII(e.host.replace(o.PCT_ENCODED,pctDecChars).toLowerCase()):O.toUnicode(e.host)}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(!n.iri?"ASCII":"Unicode")+" via punycode: "+t}}}_normalizeComponentEncoding(e,o);if(n.reference!=="suffix"&&e.scheme){s.push(e.scheme);s.push(":")}var i=_recomposeAuthority(e,n);if(i!==undefined){if(n.reference!=="suffix"){s.push("//")}s.push(i);if(e.path&&e.path.charAt(0)!=="/"){s.push("/")}}if(e.path!==undefined){var c=e.path;if(!n.absolutePath&&(!a||!a.absolutePath)){c=removeDotSegments(c)}if(i===undefined){c=c.replace(/^\/\//,"/%2F")}s.push(c)}if(e.query!==undefined){s.push("?");s.push(e.query)}if(e.fragment!==undefined){s.push("#");s.push(e.fragment)}return s.join("")}function resolveComponents(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=arguments[3];var o={};if(!n){e=parse(serialize(e,r),r);t=parse(serialize(t,r),r)}r=r||{};if(!r.tolerant&&t.scheme){o.scheme=t.scheme;o.userinfo=t.userinfo;o.host=t.host;o.port=t.port;o.path=removeDotSegments(t.path||"");o.query=t.query}else{if(t.userinfo!==undefined||t.host!==undefined||t.port!==undefined){o.userinfo=t.userinfo;o.host=t.host;o.port=t.port;o.path=removeDotSegments(t.path||"");o.query=t.query}else{if(!t.path){o.path=e.path;if(t.query!==undefined){o.query=t.query}else{o.query=e.query}}else{if(t.path.charAt(0)==="/"){o.path=removeDotSegments(t.path)}else{if((e.userinfo!==undefined||e.host!==undefined||e.port!==undefined)&&!e.path){o.path="/"+t.path}else if(!e.path){o.path=t.path}else{o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path}o.path=removeDotSegments(o.path)}o.query=t.query}o.userinfo=e.userinfo;o.host=e.host;o.port=e.port}o.scheme=e.scheme}o.fragment=t.fragment;return o}function resolve(e,t,r){var n=assign({scheme:"null"},r);return serialize(resolveComponents(parse(e,n),parse(t,n),n,true),n)}function normalize(e,t){if(typeof e==="string"){e=serialize(parse(e,t),t)}else if(typeOf(e)==="object"){e=parse(serialize(e,t),t)}return e}function equal(e,t,r){if(typeof e==="string"){e=serialize(parse(e,r),r)}else if(typeOf(e)==="object"){e=serialize(e,r)}if(typeof t==="string"){t=serialize(parse(t,r),r)}else if(typeOf(t)==="object"){t=serialize(t,r)}return e===t}function escapeComponent(e,n){return e&&e.toString().replace(!n||!n.iri?t.ESCAPE:r.ESCAPE,pctEncChar)}function unescapeComponent(e,n){return e&&e.toString().replace(!n||!n.iri?t.PCT_ENCODED:r.PCT_ENCODED,pctDecChars)}var M={scheme:"http",domainHost:true,parse:function parse(e,t){if(!e.host){e.error=e.error||"HTTP URIs must have a host."}return e},serialize:function serialize(e,t){var r=String(e.scheme).toLowerCase()==="https";if(e.port===(r?443:80)||e.port===""){e.port=undefined}if(!e.path){e.path="/"}return e}};var F={scheme:"https",domainHost:M.domainHost,parse:M.parse,serialize:M.serialize};function isSecure(e){return typeof e.secure==="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}var L={scheme:"ws",domainHost:true,parse:function parse(e,t){var r=e;r.secure=isSecure(r);r.resourceName=(r.path||"/")+(r.query?"?"+r.query:"");r.path=undefined;r.query=undefined;return r},serialize:function serialize(e,t){if(e.port===(isSecure(e)?443:80)||e.port===""){e.port=undefined}if(typeof e.secure==="boolean"){e.scheme=e.secure?"wss":"ws";e.secure=undefined}if(e.resourceName){var r=e.resourceName.split("?"),o=n(r,2),s=o[0],a=o[1];e.path=s&&s!=="/"?s:undefined;e.query=a;e.resourceName=undefined}e.fragment=undefined;return e}};var U={scheme:"wss",domainHost:L.domainHost,parse:L.parse,serialize:L.serialize};var q={};var V=true;var B="[A-Za-z0-9\\-\\.\\_\\~"+(V?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]";var z="[0-9A-Fa-f]";var K=subexp(subexp("%[EFef]"+z+"%"+z+z+"%"+z+z)+"|"+subexp("%[89A-Fa-f]"+z+"%"+z+z)+"|"+subexp("%"+z+z));var H="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";var Y="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";var G=merge(Y,'[\\"\\\\]');var W="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";var J=new RegExp(B,"g");var Z=new RegExp(K,"g");var Q=new RegExp(merge("[^]",H,"[\\.]",'[\\"]',G),"g");var X=new RegExp(merge("[^]",B,W),"g");var ee=X;function decodeUnreserved(e){var t=pctDecChars(e);return!t.match(J)?e:t}var te={scheme:"mailto",parse:function parse$$1(e,t){var r=e;var n=r.to=r.path?r.path.split(","):[];r.path=undefined;if(r.query){var o=false;var s={};var a=r.query.split("&");for(var i=0,c=a.length;i<c;++i){var u=a[i].split("=");switch(u[0]){case"to":var l=u[1].split(",");for(var f=0,d=l.length;f<d;++f){n.push(l[f])}break;case"subject":r.subject=unescapeComponent(u[1],t);break;case"body":r.body=unescapeComponent(u[1],t);break;default:o=true;s[unescapeComponent(u[0],t)]=unescapeComponent(u[1],t);break}}if(o)r.headers=s}r.query=undefined;for(var p=0,h=n.length;p<h;++p){var m=n[p].split("@");m[0]=unescapeComponent(m[0]);if(!t.unicodeSupport){try{m[1]=O.toASCII(unescapeComponent(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}}else{m[1]=unescapeComponent(m[1],t).toLowerCase()}n[p]=m.join("@")}return r},serialize:function serialize$$1(e,t){var r=e;var n=toArray(e.to);if(n){for(var o=0,s=n.length;o<s;++o){var a=String(n[o]);var i=a.lastIndexOf("@");var c=a.slice(0,i).replace(Z,decodeUnreserved).replace(Z,toUpperCase).replace(Q,pctEncChar);var u=a.slice(i+1);try{u=!t.iri?O.toASCII(unescapeComponent(u,t).toLowerCase()):O.toUnicode(u)}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(!t.iri?"ASCII":"Unicode")+" via punycode: "+e}n[o]=c+"@"+u}r.path=n.join(",")}var l=e.headers=e.headers||{};if(e.subject)l["subject"]=e.subject;if(e.body)l["body"]=e.body;var f=[];for(var d in l){if(l[d]!==q[d]){f.push(d.replace(Z,decodeUnreserved).replace(Z,toUpperCase).replace(X,pctEncChar)+"="+l[d].replace(Z,decodeUnreserved).replace(Z,toUpperCase).replace(ee,pctEncChar))}}if(f.length){r.query=f.join("&")}return r}};var re=/^([^\:]+)\:(.*)/;var ne={scheme:"urn",parse:function parse$$1(e,t){var r=e.path&&e.path.match(re);var n=e;if(r){var o=t.scheme||n.scheme||"urn";var s=r[1].toLowerCase();var a=r[2];var i=o+":"+(t.nid||s);var c=N[i];n.nid=s;n.nss=a;n.path=undefined;if(c){n=c.parse(n,t)}}else{n.error=n.error||"URN can not be parsed."}return n},serialize:function serialize$$1(e,t){var r=t.scheme||e.scheme||"urn";var n=e.nid;var o=r+":"+(t.nid||n);var s=N[o];if(s){e=s.serialize(e,t)}var a=e;var i=e.nss;a.path=(n||t.nid)+":"+i;return a}};var oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;var se={scheme:"urn:uuid",parse:function parse(e,t){var r=e;r.uuid=r.nss;r.nss=undefined;if(!t.tolerant&&(!r.uuid||!r.uuid.match(oe))){r.error=r.error||"UUID is not valid."}return r},serialize:function serialize(e,t){var r=e;r.nss=(e.uuid||"").toLowerCase();return r}};N[M.scheme]=M;N[F.scheme]=F;N[L.scheme]=L;N[U.scheme]=U;N[te.scheme]=te;N[ne.scheme]=ne;N[se.scheme]=se;e.SCHEMES=N;e.pctEncChar=pctEncChar;e.pctDecChars=pctDecChars;e.parse=parse;e.removeDotSegments=removeDotSegments;e.serialize=serialize;e.resolveComponents=resolveComponents;e.resolve=resolve;e.normalize=normalize;e.equal=equal;e.escapeComponent=escapeComponent;e.unescapeComponent=unescapeComponent;Object.defineProperty(e,"__esModule",{value:true})}))},2877:module=>{module.exports=eval("require")("encoding")},2228:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},278:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},8835:e=>{"use strict";e.exports=require("url")},8761:e=>{"use strict";e.exports=require("zlib")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e].call(r.exports,r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return r.exports}(()=>{__nccwpck_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__nccwpck_require__.d(t,{a:t});return t}})();(()=>{__nccwpck_require__.d=(e,t)=>{for(var r in t){if(__nccwpck_require__.o(t,r)&&!__nccwpck_require__.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{__nccwpck_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{"use strict";__nccwpck_require__.r(__webpack_exports__);
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function isNothing(e){return typeof e==="undefined"||e===null}function isObject(e){return typeof e==="object"&&e!==null}function toArray(e){if(Array.isArray(e))return e;else if(isNothing(e))return[];return[e]}function extend(e,t){var r,n,o,s;if(t){s=Object.keys(t);for(r=0,n=s.length;r<n;r+=1){o=s[r];e[o]=t[o]}}return e}function repeat(e,t){var r="",n;for(n=0;n<t;n+=1){r+=e}return r}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var e=isNothing;var t=isObject;var r=toArray;var n=repeat;var o=isNegativeZero;var s=extend;var a={isNothing:e,isObject:t,toArray:r,repeat:n,isNegativeZero:o,extend:s};function formatError(e,t){var r="",n=e.reason||"(unknown reason)";if(!e.mark)return n;if(e.mark.name){r+='in "'+e.mark.name+'" '}r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")";if(!t&&e.mark.snippet){r+="\n\n"+e.mark.snippet}return n+" "+r}function YAMLException$1(e,t){Error.call(this);this.name="YAMLException";this.reason=e;this.mark=t;this.message=formatError(this,false);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function toString(e){return this.name+": "+formatError(this,e)};var i=YAMLException$1;function getLine(e,t,r,n,o){var s="";var a="";var i=Math.floor(o/2)-1;if(n-t>i){s=" ... ";t=n-i+s.length}if(r-n>i){a=" ...";r=n+i-a.length}return{str:s+e.slice(t,r).replace(/\t/g,"→")+a,pos:n-t+s.length}}function padStart(e,t){return a.repeat(" ",t-e.length)+e}function makeSnippet(e,t){t=Object.create(t||null);if(!e.buffer)return null;if(!t.maxLength)t.maxLength=79;if(typeof t.indent!=="number")t.indent=1;if(typeof t.linesBefore!=="number")t.linesBefore=3;if(typeof t.linesAfter!=="number")t.linesAfter=2;var r=/\r?\n|\r|\0/g;var n=[0];var o=[];var s;var i=-1;while(s=r.exec(e.buffer)){o.push(s.index);n.push(s.index+s[0].length);if(e.position<=s.index&&i<0){i=n.length-2}}if(i<0)i=n.length-1;var c="",u,l;var f=Math.min(e.line+t.linesAfter,o.length).toString().length;var d=t.maxLength-(t.indent+f+3);for(u=1;u<=t.linesBefore;u++){if(i-u<0)break;l=getLine(e.buffer,n[i-u],o[i-u],e.position-(n[i]-n[i-u]),d);c=a.repeat(" ",t.indent)+padStart((e.line-u+1).toString(),f)+" | "+l.str+"\n"+c}l=getLine(e.buffer,n[i],o[i],e.position,d);c+=a.repeat(" ",t.indent)+padStart((e.line+1).toString(),f)+" | "+l.str+"\n";c+=a.repeat("-",t.indent+f+3+l.pos)+"^"+"\n";for(u=1;u<=t.linesAfter;u++){if(i+u>=o.length)break;l=getLine(e.buffer,n[i+u],o[i+u],e.position-(n[i]-n[i+u]),d);c+=a.repeat(" ",t.indent)+padStart((e.line+u+1).toString(),f)+" | "+l.str+"\n"}return c.replace(/\n$/,"")}var c=makeSnippet;var u=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"];var l=["scalar","sequence","mapping"];function compileStyleAliases(e){var t={};if(e!==null){Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))}))}return t}function Type$1(e,t){t=t||{};Object.keys(t).forEach((function(t){if(u.indexOf(t)===-1){throw new i('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}}));this.options=t;this.tag=e;this.kind=t["kind"]||null;this.resolve=t["resolve"]||function(){return true};this.construct=t["construct"]||function(e){return e};this.instanceOf=t["instanceOf"]||null;this.predicate=t["predicate"]||null;this.represent=t["represent"]||null;this.representName=t["representName"]||null;this.defaultStyle=t["defaultStyle"]||null;this.multi=t["multi"]||false;this.styleAliases=compileStyleAliases(t["styleAliases"]||null);if(l.indexOf(this.kind)===-1){throw new i('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}}var f=Type$1;function compileList(e,t){var r=[];e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){if(r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi){t=n}}));r[t]=e}));return r}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function collectType(t){if(t.multi){e.multi[t.kind].push(t);e.multi["fallback"].push(t)}else{e[t.kind][t.tag]=e["fallback"][t.tag]=t}}for(t=0,r=arguments.length;t<r;t+=1){arguments[t].forEach(collectType)}return e}function Schema$1(e){return this.extend(e)}Schema$1.prototype.extend=function extend(e){var t=[];var r=[];if(e instanceof f){r.push(e)}else if(Array.isArray(e)){r=r.concat(e)}else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit))){if(e.implicit)t=t.concat(e.implicit);if(e.explicit)r=r.concat(e.explicit)}else{throw new i("Schema.extend argument should be a Type, [ Type ], "+"or a schema definition ({ implicit: [...], explicit: [...] })")}t.forEach((function(e){if(!(e instanceof f)){throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.")}if(e.loadKind&&e.loadKind!=="scalar"){throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}if(e.multi){throw new i("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}}));r.forEach((function(e){if(!(e instanceof f)){throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.")}}));var n=Object.create(Schema$1.prototype);n.implicit=(this.implicit||[]).concat(t);n.explicit=(this.explicit||[]).concat(r);n.compiledImplicit=compileList(n,"implicit");n.compiledExplicit=compileList(n,"explicit");n.compiledTypeMap=compileMap(n.compiledImplicit,n.compiledExplicit);return n};var d=Schema$1;var p=new f("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}});var h=new f("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}});var m=new f("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}});var y=new d({explicit:[p,h,m]});function resolveYamlNull(e){if(e===null)return true;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var g=new f("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(e){if(e===null)return false;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var v=new f("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return false;var t=e.length,r=0,n=false,o;if(!t)return false;o=e[r];if(o==="-"||o==="+"){o=e[++r]}if(o==="0"){if(r+1===t)return true;o=e[++r];if(o==="b"){r++;for(;r<t;r++){o=e[r];if(o==="_")continue;if(o!=="0"&&o!=="1")return false;n=true}return n&&o!=="_"}if(o==="x"){r++;for(;r<t;r++){o=e[r];if(o==="_")continue;if(!isHexCode(e.charCodeAt(r)))return false;n=true}return n&&o!=="_"}if(o==="o"){r++;for(;r<t;r++){o=e[r];if(o==="_")continue;if(!isOctCode(e.charCodeAt(r)))return false;n=true}return n&&o!=="_"}}if(o==="_")return false;for(;r<t;r++){o=e[r];if(o==="_")continue;if(!isDecCode(e.charCodeAt(r))){return false}n=true}if(!n||o==="_")return false;return true}function constructYamlInteger(e){var t=e,r=1,n;if(t.indexOf("_")!==-1){t=t.replace(/_/g,"")}n=t[0];if(n==="-"||n==="+"){if(n==="-")r=-1;t=t.slice(1);n=t[0]}if(t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1===0&&!a.isNegativeZero(e))}var b=new f("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}});var w=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?"+"|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?"+"|[-+]?\\.(?:inf|Inf|INF)"+"|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){if(e===null)return false;if(!w.test(e)||e[e.length-1]==="_"){return false}return true}function constructYamlFloat(e){var t,r;t=e.replace(/_/g,"").toLowerCase();r=t[0]==="-"?-1:1;if("+-".indexOf(t[0])>=0){t=t.slice(1)}if(t===".inf"){return r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(t===".nan"){return NaN}return r*parseFloat(t,10)}var $=/^[-+]?[0-9]+e/;function representYamlFloat(e,t){var r;if(isNaN(e)){switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===e){switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===e){switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(a.isNegativeZero(e)){return"-0.0"}r=e.toString(10);return $.test(r)?r.replace("e",".e"):r}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||a.isNegativeZero(e))}var S=new f("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"});var E=y.extend({implicit:[g,v,b,S]});var C=E;var P=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9])"+"-([0-9][0-9])$");var k=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9]?)"+"-([0-9][0-9]?)"+"(?:[Tt]|[ \\t]+)"+"([0-9][0-9]?)"+":([0-9][0-9])"+":([0-9][0-9])"+"(?:\\.([0-9]*))?"+"(?:[ \\t]*(Z|([-+])([0-9][0-9]?)"+"(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){if(e===null)return false;if(P.exec(e)!==null)return true;if(k.exec(e)!==null)return true;return false}function constructYamlTimestamp(e){var t,r,n,o,s,a,i,c=0,u=null,l,f,d;t=P.exec(e);if(t===null)t=k.exec(e);if(t===null)throw new Error("Date resolve error");r=+t[1];n=+t[2]-1;o=+t[3];if(!t[4]){return new Date(Date.UTC(r,n,o))}s=+t[4];a=+t[5];i=+t[6];if(t[7]){c=t[7].slice(0,3);while(c.length<3){c+="0"}c=+c}if(t[9]){l=+t[10];f=+(t[11]||0);u=(l*60+f)*6e4;if(t[9]==="-")u=-u}d=new Date(Date.UTC(r,n,o,s,a,i,c));if(u)d.setTime(d.getTime()-u);return d}function representYamlTimestamp(e){return e.toISOString()}var x=new f("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(e){return e==="<<"||e===null}var O=new f("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge});var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(e){if(e===null)return false;var t,r,n=0,o=e.length,s=N;for(r=0;r<o;r++){t=s.indexOf(e.charAt(r));if(t>64)continue;if(t<0)return false;n+=6}return n%8===0}function constructYamlBinary(e){var t,r,n=e.replace(/[\r\n=]/g,""),o=n.length,s=N,a=0,i=[];for(t=0;t<o;t++){if(t%4===0&&t){i.push(a>>16&255);i.push(a>>8&255);i.push(a&255)}a=a<<6|s.indexOf(n.charAt(t))}r=o%4*6;if(r===0){i.push(a>>16&255);i.push(a>>8&255);i.push(a&255)}else if(r===18){i.push(a>>10&255);i.push(a>>2&255)}else if(r===12){i.push(a>>4&255)}return new Uint8Array(i)}function representYamlBinary(e){var t="",r=0,n,o,s=e.length,a=N;for(n=0;n<s;n++){if(n%3===0&&n){t+=a[r>>18&63];t+=a[r>>12&63];t+=a[r>>6&63];t+=a[r&63]}r=(r<<8)+e[n]}o=s%3;if(o===0){t+=a[r>>18&63];t+=a[r>>12&63];t+=a[r>>6&63];t+=a[r&63]}else if(o===2){t+=a[r>>10&63];t+=a[r>>4&63];t+=a[r<<2&63];t+=a[64]}else if(o===1){t+=a[r>>2&63];t+=a[r<<4&63];t+=a[64];t+=a[64]}return t}function isBinary(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var A=new f("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary});var T=Object.prototype.hasOwnProperty;var j=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return true;var t=[],r,n,o,s,a,i=e;for(r=0,n=i.length;r<n;r+=1){o=i[r];a=false;if(j.call(o)!=="[object Object]")return false;for(s in o){if(T.call(o,s)){if(!a)a=true;else return false}}if(!a)return false;if(t.indexOf(s)===-1)t.push(s);else return false}return true}function constructYamlOmap(e){return e!==null?e:[]}var I=new f("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap});var R=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return true;var t,r,n,o,s,a=e;s=new Array(a.length);for(t=0,r=a.length;t<r;t+=1){n=a[t];if(R.call(n)!=="[object Object]")return false;o=Object.keys(n);if(o.length!==1)return false;s[t]=[o[0],n[o[0]]]}return true}function constructYamlPairs(e){if(e===null)return[];var t,r,n,o,s,a=e;s=new Array(a.length);for(t=0,r=a.length;t<r;t+=1){n=a[t];o=Object.keys(n);s[t]=[o[0],n[o[0]]]}return s}var D=new f("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs});var M=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return true;var t,r=e;for(t in r){if(M.call(r,t)){if(r[t]!==null)return false}}return true}function constructYamlSet(e){return e!==null?e:{}}var F=new f("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet});var L=C.extend({implicit:[x,O],explicit:[A,I,D,F]});var U=Object.prototype.hasOwnProperty;var q=1;var V=2;var B=3;var z=4;var K=1;var H=2;var Y=3;var G=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var W=/[\x85\u2028\u2029]/;var J=/[,\[\]\{\}]/;var Z=/^(?:!|!!|![a-z\-]+!)$/i;var Q=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var t;if(48<=e&&e<=57){return e-48}t=e|32;if(97<=t&&t<=102){return t-97+10}return-1}function escapedHexLen(e){if(e===120){return 2}if(e===117){return 4}if(e===85){return 8}return 0}function fromDecimalCode(e){if(48<=e&&e<=57){return e-48}return-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"":e===98?"\b":e===116?"\t":e===9?"\t":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){if(e<=65535){return String.fromCharCode(e)}return String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var X=new Array(256);var ee=new Array(256);for(var te=0;te<256;te++){X[te]=simpleEscapeSequence(te)?1:0;ee[te]=simpleEscapeSequence(te)}function State$1(e,t){this.input=e;this.filename=t["filename"]||null;this.schema=t["schema"]||L;this.onWarning=t["onWarning"]||null;this.legacy=t["legacy"]||false;this.json=t["json"]||false;this.listener=t["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=e.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.firstTabInLine=-1;this.documents=[]}function generateError(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};r.snippet=c(r);return new i(t,r)}function throwError(e,t){throw generateError(e,t)}function throwWarning(e,t){if(e.onWarning){e.onWarning.call(null,generateError(e,t))}}var re={YAML:function handleYamlDirective(e,t,r){var n,o,s;if(e.version!==null){throwError(e,"duplication of %YAML directive")}if(r.length!==1){throwError(e,"YAML directive accepts exactly one argument")}n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]);if(n===null){throwError(e,"ill-formed argument of the YAML directive")}o=parseInt(n[1],10);s=parseInt(n[2],10);if(o!==1){throwError(e,"unacceptable YAML version of the document")}e.version=r[0];e.checkLineBreaks=s<2;if(s!==1&&s!==2){throwWarning(e,"unsupported YAML version of the document")}},TAG:function handleTagDirective(e,t,r){var n,o;if(r.length!==2){throwError(e,"TAG directive accepts exactly two arguments")}n=r[0];o=r[1];if(!Z.test(n)){throwError(e,"ill-formed tag handle (first argument) of the TAG directive")}if(U.call(e.tagMap,n)){throwError(e,'there is a previously declared suffix for "'+n+'" tag handle')}if(!Q.test(o)){throwError(e,"ill-formed tag prefix (second argument) of the TAG directive")}try{o=decodeURIComponent(o)}catch(t){throwError(e,"tag prefix is malformed: "+o)}e.tagMap[n]=o}};function captureSegment(e,t,r,n){var o,s,a,i;if(t<r){i=e.input.slice(t,r);if(n){for(o=0,s=i.length;o<s;o+=1){a=i.charCodeAt(o);if(!(a===9||32<=a&&a<=1114111)){throwError(e,"expected valid JSON character")}}}else if(G.test(i)){throwError(e,"the stream contains non-printable characters")}e.result+=i}}function mergeMappings(e,t,r,n){var o,s,i,c;if(!a.isObject(r)){throwError(e,"cannot merge mappings; the provided source object is unacceptable")}o=Object.keys(r);for(i=0,c=o.length;i<c;i+=1){s=o[i];if(!U.call(t,s)){t[s]=r[s];n[s]=true}}}function storeMappingPair(e,t,r,n,o,s,a,i,c){var u,l;if(Array.isArray(o)){o=Array.prototype.slice.call(o);for(u=0,l=o.length;u<l;u+=1){if(Array.isArray(o[u])){throwError(e,"nested arrays are not supported inside keys")}if(typeof o==="object"&&_class(o[u])==="[object Object]"){o[u]="[object Object]"}}}if(typeof o==="object"&&_class(o)==="[object Object]"){o="[object Object]"}o=String(o);if(t===null){t={}}if(n==="tag:yaml.org,2002:merge"){if(Array.isArray(s)){for(u=0,l=s.length;u<l;u+=1){mergeMappings(e,t,s[u],r)}}else{mergeMappings(e,t,s,r)}}else{if(!e.json&&!U.call(r,o)&&U.call(t,o)){e.line=a||e.line;e.lineStart=i||e.lineStart;e.position=c||e.position;throwError(e,"duplicated mapping key")}if(o==="__proto__"){Object.defineProperty(t,o,{configurable:true,enumerable:true,writable:true,value:s})}else{t[o]=s}delete r[o]}return t}function readLineBreak(e){var t;t=e.input.charCodeAt(e.position);if(t===10){e.position++}else if(t===13){e.position++;if(e.input.charCodeAt(e.position)===10){e.position++}}else{throwError(e,"a line break is expected")}e.line+=1;e.lineStart=e.position;e.firstTabInLine=-1}function skipSeparationSpace(e,t,r){var n=0,o=e.input.charCodeAt(e.position);while(o!==0){while(is_WHITE_SPACE(o)){if(o===9&&e.firstTabInLine===-1){e.firstTabInLine=e.position}o=e.input.charCodeAt(++e.position)}if(t&&o===35){do{o=e.input.charCodeAt(++e.position)}while(o!==10&&o!==13&&o!==0)}if(is_EOL(o)){readLineBreak(e);o=e.input.charCodeAt(e.position);n++;e.lineIndent=0;while(o===32){e.lineIndent++;o=e.input.charCodeAt(++e.position)}}else{break}}if(r!==-1&&n!==0&&e.lineIndent<r){throwWarning(e,"deficient indentation")}return n}function testDocumentSeparator(e){var t=e.position,r;r=e.input.charCodeAt(t);if((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)){t+=3;r=e.input.charCodeAt(t);if(r===0||is_WS_OR_EOL(r)){return true}}return false}function writeFoldedLines(e,t){if(t===1){e.result+=" "}else if(t>1){e.result+=a.repeat("\n",t-1)}}function readPlainScalar(e,t,r){var n,o,s,a,i,c,u,l,f=e.kind,d=e.result,p;p=e.input.charCodeAt(e.position);if(is_WS_OR_EOL(p)||is_FLOW_INDICATOR(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96){return false}if(p===63||p===45){o=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(o)||r&&is_FLOW_INDICATOR(o)){return false}}e.kind="scalar";e.result="";s=a=e.position;i=false;while(p!==0){if(p===58){o=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(o)||r&&is_FLOW_INDICATOR(o)){break}}else if(p===35){n=e.input.charCodeAt(e.position-1);if(is_WS_OR_EOL(n)){break}}else if(e.position===e.lineStart&&testDocumentSeparator(e)||r&&is_FLOW_INDICATOR(p)){break}else if(is_EOL(p)){c=e.line;u=e.lineStart;l=e.lineIndent;skipSeparationSpace(e,false,-1);if(e.lineIndent>=t){i=true;p=e.input.charCodeAt(e.position);continue}else{e.position=a;e.line=c;e.lineStart=u;e.lineIndent=l;break}}if(i){captureSegment(e,s,a,false);writeFoldedLines(e,e.line-c);s=a=e.position;i=false}if(!is_WHITE_SPACE(p)){a=e.position+1}p=e.input.charCodeAt(++e.position)}captureSegment(e,s,a,false);if(e.result){return true}e.kind=f;e.result=d;return false}function readSingleQuotedScalar(e,t){var r,n,o;r=e.input.charCodeAt(e.position);if(r!==39){return false}e.kind="scalar";e.result="";e.position++;n=o=e.position;while((r=e.input.charCodeAt(e.position))!==0){if(r===39){captureSegment(e,n,e.position,true);r=e.input.charCodeAt(++e.position);if(r===39){n=e.position;e.position++;o=e.position}else{return true}}else if(is_EOL(r)){captureSegment(e,n,o,true);writeFoldedLines(e,skipSeparationSpace(e,false,t));n=o=e.position}else if(e.position===e.lineStart&&testDocumentSeparator(e)){throwError(e,"unexpected end of the document within a single quoted scalar")}else{e.position++;o=e.position}}throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,t){var r,n,o,s,a,i;i=e.input.charCodeAt(e.position);if(i!==34){return false}e.kind="scalar";e.result="";e.position++;r=n=e.position;while((i=e.input.charCodeAt(e.position))!==0){if(i===34){captureSegment(e,r,e.position,true);e.position++;return true}else if(i===92){captureSegment(e,r,e.position,true);i=e.input.charCodeAt(++e.position);if(is_EOL(i)){skipSeparationSpace(e,false,t)}else if(i<256&&X[i]){e.result+=ee[i];e.position++}else if((a=escapedHexLen(i))>0){o=a;s=0;for(;o>0;o--){i=e.input.charCodeAt(++e.position);if((a=fromHexCode(i))>=0){s=(s<<4)+a}else{throwError(e,"expected hexadecimal character")}}e.result+=charFromCodepoint(s);e.position++}else{throwError(e,"unknown escape sequence")}r=n=e.position}else if(is_EOL(i)){captureSegment(e,r,n,true);writeFoldedLines(e,skipSeparationSpace(e,false,t));r=n=e.position}else if(e.position===e.lineStart&&testDocumentSeparator(e)){throwError(e,"unexpected end of the document within a double quoted scalar")}else{e.position++;n=e.position}}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,t){var r=true,n,o,s,a=e.tag,i,c=e.anchor,u,l,f,d,p,h=Object.create(null),m,y,g,v;v=e.input.charCodeAt(e.position);if(v===91){l=93;p=false;i=[]}else if(v===123){l=125;p=true;i={}}else{return false}if(e.anchor!==null){e.anchorMap[e.anchor]=i}v=e.input.charCodeAt(++e.position);while(v!==0){skipSeparationSpace(e,true,t);v=e.input.charCodeAt(e.position);if(v===l){e.position++;e.tag=a;e.anchor=c;e.kind=p?"mapping":"sequence";e.result=i;return true}else if(!r){throwError(e,"missed comma between flow collection entries")}else if(v===44){throwError(e,"expected the node content, but found ','")}y=m=g=null;f=d=false;if(v===63){u=e.input.charCodeAt(e.position+1);if(is_WS_OR_EOL(u)){f=d=true;e.position++;skipSeparationSpace(e,true,t)}}n=e.line;o=e.lineStart;s=e.position;composeNode(e,t,q,false,true);y=e.tag;m=e.result;skipSeparationSpace(e,true,t);v=e.input.charCodeAt(e.position);if((d||e.line===n)&&v===58){f=true;v=e.input.charCodeAt(++e.position);skipSeparationSpace(e,true,t);composeNode(e,t,q,false,true);g=e.result}if(p){storeMappingPair(e,i,h,y,m,g,n,o,s)}else if(f){i.push(storeMappingPair(e,null,h,y,m,g,n,o,s))}else{i.push(m)}skipSeparationSpace(e,true,t);v=e.input.charCodeAt(e.position);if(v===44){r=true;v=e.input.charCodeAt(++e.position)}else{r=false}}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,t){var r,n,o=K,s=false,i=false,c=t,u=0,l=false,f,d;d=e.input.charCodeAt(e.position);if(d===124){n=false}else if(d===62){n=true}else{return false}e.kind="scalar";e.result="";while(d!==0){d=e.input.charCodeAt(++e.position);if(d===43||d===45){if(K===o){o=d===43?Y:H}else{throwError(e,"repeat of a chomping mode identifier")}}else if((f=fromDecimalCode(d))>=0){if(f===0){throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!i){c=t+f-1;i=true}else{throwError(e,"repeat of an indentation width identifier")}}else{break}}if(is_WHITE_SPACE(d)){do{d=e.input.charCodeAt(++e.position)}while(is_WHITE_SPACE(d));if(d===35){do{d=e.input.charCodeAt(++e.position)}while(!is_EOL(d)&&d!==0)}}while(d!==0){readLineBreak(e);e.lineIndent=0;d=e.input.charCodeAt(e.position);while((!i||e.lineIndent<c)&&d===32){e.lineIndent++;d=e.input.charCodeAt(++e.position)}if(!i&&e.lineIndent>c){c=e.lineIndent}if(is_EOL(d)){u++;continue}if(e.lineIndent<c){if(o===Y){e.result+=a.repeat("\n",s?1+u:u)}else if(o===K){if(s){e.result+="\n"}}break}if(n){if(is_WHITE_SPACE(d)){l=true;e.result+=a.repeat("\n",s?1+u:u)}else if(l){l=false;e.result+=a.repeat("\n",u+1)}else if(u===0){if(s){e.result+=" "}}else{e.result+=a.repeat("\n",u)}}else{e.result+=a.repeat("\n",s?1+u:u)}s=true;i=true;u=0;r=e.position;while(!is_EOL(d)&&d!==0){d=e.input.charCodeAt(++e.position)}captureSegment(e,r,e.position,false)}return true}function readBlockSequence(e,t){var r,n=e.tag,o=e.anchor,s=[],a,i=false,c;if(e.firstTabInLine!==-1)return false;if(e.anchor!==null){e.anchorMap[e.anchor]=s}c=e.input.charCodeAt(e.position);while(c!==0){if(e.firstTabInLine!==-1){e.position=e.firstTabInLine;throwError(e,"tab characters must not be used in indentation")}if(c!==45){break}a=e.input.charCodeAt(e.position+1);if(!is_WS_OR_EOL(a)){break}i=true;e.position++;if(skipSeparationSpace(e,true,-1)){if(e.lineIndent<=t){s.push(null);c=e.input.charCodeAt(e.position);continue}}r=e.line;composeNode(e,t,B,false,true);s.push(e.result);skipSeparationSpace(e,true,-1);c=e.input.charCodeAt(e.position);if((e.line===r||e.lineIndent>t)&&c!==0){throwError(e,"bad indentation of a sequence entry")}else if(e.lineIndent<t){break}}if(i){e.tag=n;e.anchor=o;e.kind="sequence";e.result=s;return true}return false}function readBlockMapping(e,t,r){var n,o,s,a,i,c,u=e.tag,l=e.anchor,f={},d=Object.create(null),p=null,h=null,m=null,y=false,g=false,v;if(e.firstTabInLine!==-1)return false;if(e.anchor!==null){e.anchorMap[e.anchor]=f}v=e.input.charCodeAt(e.position);while(v!==0){if(!y&&e.firstTabInLine!==-1){e.position=e.firstTabInLine;throwError(e,"tab characters must not be used in indentation")}n=e.input.charCodeAt(e.position+1);s=e.line;if((v===63||v===58)&&is_WS_OR_EOL(n)){if(v===63){if(y){storeMappingPair(e,f,d,p,h,null,a,i,c);p=h=m=null}g=true;y=true;o=true}else if(y){y=false;o=true}else{throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}e.position+=1;v=n}else{a=e.line;i=e.lineStart;c=e.position;if(!composeNode(e,r,V,false,true)){break}if(e.line===s){v=e.input.charCodeAt(e.position);while(is_WHITE_SPACE(v)){v=e.input.charCodeAt(++e.position)}if(v===58){v=e.input.charCodeAt(++e.position);if(!is_WS_OR_EOL(v)){throwError(e,"a whitespace character is expected after the key-value separator within a block mapping")}if(y){storeMappingPair(e,f,d,p,h,null,a,i,c);p=h=m=null}g=true;y=false;o=false;p=e.tag;h=e.result}else if(g){throwError(e,"can not read an implicit mapping pair; a colon is missed")}else{e.tag=u;e.anchor=l;return true}}else if(g){throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{e.tag=u;e.anchor=l;return true}}if(e.line===s||e.lineIndent>t){if(y){a=e.line;i=e.lineStart;c=e.position}if(composeNode(e,t,z,true,o)){if(y){h=e.result}else{m=e.result}}if(!y){storeMappingPair(e,f,d,p,h,m,a,i,c);p=h=m=null}skipSeparationSpace(e,true,-1);v=e.input.charCodeAt(e.position)}if((e.line===s||e.lineIndent>t)&&v!==0){throwError(e,"bad indentation of a mapping entry")}else if(e.lineIndent<t){break}}if(y){storeMappingPair(e,f,d,p,h,null,a,i,c)}if(g){e.tag=u;e.anchor=l;e.kind="mapping";e.result=f}return g}function readTagProperty(e){var t,r=false,n=false,o,s,a;a=e.input.charCodeAt(e.position);if(a!==33)return false;if(e.tag!==null){throwError(e,"duplication of a tag property")}a=e.input.charCodeAt(++e.position);if(a===60){r=true;a=e.input.charCodeAt(++e.position)}else if(a===33){n=true;o="!!";a=e.input.charCodeAt(++e.position)}else{o="!"}t=e.position;if(r){do{a=e.input.charCodeAt(++e.position)}while(a!==0&&a!==62);if(e.position<e.length){s=e.input.slice(t,e.position);a=e.input.charCodeAt(++e.position)}else{throwError(e,"unexpected end of the stream within a verbatim tag")}}else{while(a!==0&&!is_WS_OR_EOL(a)){if(a===33){if(!n){o=e.input.slice(t-1,e.position+1);if(!Z.test(o)){throwError(e,"named tag handle cannot contain such characters")}n=true;t=e.position+1}else{throwError(e,"tag suffix cannot contain exclamation marks")}}a=e.input.charCodeAt(++e.position)}s=e.input.slice(t,e.position);if(J.test(s)){throwError(e,"tag suffix cannot contain flow indicator characters")}}if(s&&!Q.test(s)){throwError(e,"tag name cannot contain such characters: "+s)}try{s=decodeURIComponent(s)}catch(t){throwError(e,"tag name is malformed: "+s)}if(r){e.tag=s}else if(U.call(e.tagMap,o)){e.tag=e.tagMap[o]+s}else if(o==="!"){e.tag="!"+s}else if(o==="!!"){e.tag="tag:yaml.org,2002:"+s}else{throwError(e,'undeclared tag handle "'+o+'"')}return true}function readAnchorProperty(e){var t,r;r=e.input.charCodeAt(e.position);if(r!==38)return false;if(e.anchor!==null){throwError(e,"duplication of an anchor property")}r=e.input.charCodeAt(++e.position);t=e.position;while(r!==0&&!is_WS_OR_EOL(r)&&!is_FLOW_INDICATOR(r)){r=e.input.charCodeAt(++e.position)}if(e.position===t){throwError(e,"name of an anchor node must contain at least one character")}e.anchor=e.input.slice(t,e.position);return true}function readAlias(e){var t,r,n;n=e.input.charCodeAt(e.position);if(n!==42)return false;n=e.input.charCodeAt(++e.position);t=e.position;while(n!==0&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n)){n=e.input.charCodeAt(++e.position)}if(e.position===t){throwError(e,"name of an alias node must contain at least one character")}r=e.input.slice(t,e.position);if(!U.call(e.anchorMap,r)){throwError(e,'unidentified alias "'+r+'"')}e.result=e.anchorMap[r];skipSeparationSpace(e,true,-1);return true}function composeNode(e,t,r,n,o){var s,a,i,c=1,u=false,l=false,f,d,p,h,m,y;if(e.listener!==null){e.listener("open",e)}e.tag=null;e.anchor=null;e.kind=null;e.result=null;s=a=i=z===r||B===r;if(n){if(skipSeparationSpace(e,true,-1)){u=true;if(e.lineIndent>t){c=1}else if(e.lineIndent===t){c=0}else if(e.lineIndent<t){c=-1}}}if(c===1){while(readTagProperty(e)||readAnchorProperty(e)){if(skipSeparationSpace(e,true,-1)){u=true;i=s;if(e.lineIndent>t){c=1}else if(e.lineIndent===t){c=0}else if(e.lineIndent<t){c=-1}}else{i=false}}}if(i){i=u||o}if(c===1||z===r){if(q===r||V===r){m=t}else{m=t+1}y=e.position-e.lineStart;if(c===1){if(i&&(readBlockSequence(e,y)||readBlockMapping(e,y,m))||readFlowCollection(e,m)){l=true}else{if(a&&readBlockScalar(e,m)||readSingleQuotedScalar(e,m)||readDoubleQuotedScalar(e,m)){l=true}else if(readAlias(e)){l=true;if(e.tag!==null||e.anchor!==null){throwError(e,"alias node should not have any properties")}}else if(readPlainScalar(e,m,q===r)){l=true;if(e.tag===null){e.tag="?"}}if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}}}else if(c===0){l=i&&readBlockSequence(e,y)}}if(e.tag===null){if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}}else if(e.tag==="?"){if(e.result!==null&&e.kind!=="scalar"){throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"')}for(f=0,d=e.implicitTypes.length;f<d;f+=1){h=e.implicitTypes[f];if(h.resolve(e.result)){e.result=h.construct(e.result);e.tag=h.tag;if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}break}}}else if(e.tag!=="!"){if(U.call(e.typeMap[e.kind||"fallback"],e.tag)){h=e.typeMap[e.kind||"fallback"][e.tag]}else{h=null;p=e.typeMap.multi[e.kind||"fallback"];for(f=0,d=p.length;f<d;f+=1){if(e.tag.slice(0,p[f].tag.length)===p[f].tag){h=p[f];break}}}if(!h){throwError(e,"unknown tag !<"+e.tag+">")}if(e.result!==null&&h.kind!==e.kind){throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"')}if(!h.resolve(e.result,e.tag)){throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}else{e.result=h.construct(e.result,e.tag);if(e.anchor!==null){e.anchorMap[e.anchor]=e.result}}}if(e.listener!==null){e.listener("close",e)}return e.tag!==null||e.anchor!==null||l}function readDocument(e){var t=e.position,r,n,o,s=false,a;e.version=null;e.checkLineBreaks=e.legacy;e.tagMap=Object.create(null);e.anchorMap=Object.create(null);while((a=e.input.charCodeAt(e.position))!==0){skipSeparationSpace(e,true,-1);a=e.input.charCodeAt(e.position);if(e.lineIndent>0||a!==37){break}s=true;a=e.input.charCodeAt(++e.position);r=e.position;while(a!==0&&!is_WS_OR_EOL(a)){a=e.input.charCodeAt(++e.position)}n=e.input.slice(r,e.position);o=[];if(n.length<1){throwError(e,"directive name must not be less than one character in length")}while(a!==0){while(is_WHITE_SPACE(a)){a=e.input.charCodeAt(++e.position)}if(a===35){do{a=e.input.charCodeAt(++e.position)}while(a!==0&&!is_EOL(a));break}if(is_EOL(a))break;r=e.position;while(a!==0&&!is_WS_OR_EOL(a)){a=e.input.charCodeAt(++e.position)}o.push(e.input.slice(r,e.position))}if(a!==0)readLineBreak(e);if(U.call(re,n)){re[n](e,n,o)}else{throwWarning(e,'unknown document directive "'+n+'"')}}skipSeparationSpace(e,true,-1);if(e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45){e.position+=3;skipSeparationSpace(e,true,-1)}else if(s){throwError(e,"directives end mark is expected")}composeNode(e,e.lineIndent-1,z,false,true);skipSeparationSpace(e,true,-1);if(e.checkLineBreaks&&W.test(e.input.slice(t,e.position))){throwWarning(e,"non-ASCII line breaks are interpreted as content")}e.documents.push(e.result);if(e.position===e.lineStart&&testDocumentSeparator(e)){if(e.input.charCodeAt(e.position)===46){e.position+=3;skipSeparationSpace(e,true,-1)}return}if(e.position<e.length-1){throwError(e,"end of the stream or a document separator is expected")}else{return}}function loadDocuments(e,t){e=String(e);t=t||{};if(e.length!==0){if(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13){e+="\n"}if(e.charCodeAt(0)===65279){e=e.slice(1)}}var r=new State$1(e,t);var n=e.indexOf("\0");if(n!==-1){r.position=n;throwError(r,"null byte is not allowed in input")}r.input+="\0";while(r.input.charCodeAt(r.position)===32){r.lineIndent+=1;r.position+=1}while(r.position<r.length-1){readDocument(r)}return r.documents}function loadAll$1(e,t,r){if(t!==null&&typeof t==="object"&&typeof r==="undefined"){r=t;t=null}var n=loadDocuments(e,r);if(typeof t!=="function"){return n}for(var o=0,s=n.length;o<s;o+=1){t(n[o])}}function load$1(e,t){var r=loadDocuments(e,t);if(r.length===0){return undefined}else if(r.length===1){return r[0]}throw new i("expected a single document in the stream, but found more")}var ne=loadAll$1;var oe=load$1;var se={loadAll:ne,load:oe};var ae=Object.prototype.toString;var ie=Object.prototype.hasOwnProperty;var ce=65279;var ue=9;var le=10;var fe=13;var de=32;var pe=33;var he=34;var me=35;var ye=37;var ge=38;var ve=39;var be=42;var we=44;var _e=45;var $e=58;var Se=61;var Ee=62;var Ce=63;var Pe=64;var ke=91;var xe=93;var Oe=96;var Ne=123;var Ae=124;var Te=125;var je={};je[0]="\\0";je[7]="\\a";je[8]="\\b";je[9]="\\t";je[10]="\\n";je[11]="\\v";je[12]="\\f";je[13]="\\r";je[27]="\\e";je[34]='\\"';je[92]="\\\\";je[133]="\\N";je[160]="\\_";je[8232]="\\L";je[8233]="\\P";var Ie=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];var Re=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(e,t){var r,n,o,s,a,i,c;if(t===null)return{};r={};n=Object.keys(t);for(o=0,s=n.length;o<s;o+=1){a=n[o];i=String(t[a]);if(a.slice(0,2)==="!!"){a="tag:yaml.org,2002:"+a.slice(2)}c=e.compiledTypeMap["fallback"][a];if(c&&ie.call(c.styleAliases,i)){i=c.styleAliases[i]}r[a]=i}return r}function encodeHex(e){var t,r,n;t=e.toString(16).toUpperCase();if(e<=255){r="x";n=2}else if(e<=65535){r="u";n=4}else if(e<=4294967295){r="U";n=8}else{throw new i("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+r+a.repeat("0",n-t.length)+t}var De=1,Me=2;function State(e){this.schema=e["schema"]||L;this.indent=Math.max(1,e["indent"]||2);this.noArrayIndent=e["noArrayIndent"]||false;this.skipInvalid=e["skipInvalid"]||false;this.flowLevel=a.isNothing(e["flowLevel"])?-1:e["flowLevel"];this.styleMap=compileStyleMap(this.schema,e["styles"]||null);this.sortKeys=e["sortKeys"]||false;this.lineWidth=e["lineWidth"]||80;this.noRefs=e["noRefs"]||false;this.noCompatMode=e["noCompatMode"]||false;this.condenseFlow=e["condenseFlow"]||false;this.quotingType=e["quotingType"]==='"'?Me:De;this.forceQuotes=e["forceQuotes"]||false;this.replacer=typeof e["replacer"]==="function"?e["replacer"]:null;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(e,t){var r=a.repeat(" ",t),n=0,o=-1,s="",i,c=e.length;while(n<c){o=e.indexOf("\n",n);if(o===-1){i=e.slice(n);n=c}else{i=e.slice(n,o+1);n=o+1}if(i.length&&i!=="\n")s+=r;s+=i}return s}function generateNextLine(e,t){return"\n"+a.repeat(" ",e.indent*t)}function testImplicitResolving(e,t){var r,n,o;for(r=0,n=e.implicitTypes.length;r<n;r+=1){o=e.implicitTypes[r];if(o.resolve(t)){return true}}return false}function isWhitespace(e){return e===de||e===ue}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ce||65536<=e&&e<=1114111}function isNsCharOrWhitespace(e){return isPrintable(e)&&e!==ce&&e!==fe&&e!==le}function isPlainSafe(e,t,r){var n=isNsCharOrWhitespace(e);var o=n&&!isWhitespace(e);return(r?n:n&&e!==we&&e!==ke&&e!==xe&&e!==Ne&&e!==Te)&&e!==me&&!(t===$e&&!o)||isNsCharOrWhitespace(t)&&!isWhitespace(t)&&e===me||t===$e&&o}function isPlainSafeFirst(e){return isPrintable(e)&&e!==ce&&!isWhitespace(e)&&e!==_e&&e!==Ce&&e!==$e&&e!==we&&e!==ke&&e!==xe&&e!==Ne&&e!==Te&&e!==me&&e!==ge&&e!==be&&e!==pe&&e!==Ae&&e!==Se&&e!==Ee&&e!==ve&&e!==he&&e!==ye&&e!==Pe&&e!==Oe}function isPlainSafeLast(e){return!isWhitespace(e)&&e!==$e}function codePointAt(e,t){var r=e.charCodeAt(t),n;if(r>=55296&&r<=56319&&t+1<e.length){n=e.charCodeAt(t+1);if(n>=56320&&n<=57343){return(r-55296)*1024+n-56320+65536}}return r}function needIndentIndicator(e){var t=/^\n* /;return t.test(e)}var Fe=1,Le=2,Ue=3,qe=4,Ve=5;function chooseScalarStyle(e,t,r,n,o,s,a,i){var c;var u=0;var l=null;var f=false;var d=false;var p=n!==-1;var h=-1;var m=isPlainSafeFirst(codePointAt(e,0))&&isPlainSafeLast(codePointAt(e,e.length-1));if(t||a){for(c=0;c<e.length;u>=65536?c+=2:c++){u=codePointAt(e,c);if(!isPrintable(u)){return Ve}m=m&&isPlainSafe(u,l,i);l=u}}else{for(c=0;c<e.length;u>=65536?c+=2:c++){u=codePointAt(e,c);if(u===le){f=true;if(p){d=d||c-h-1>n&&e[h+1]!==" ";h=c}}else if(!isPrintable(u)){return Ve}m=m&&isPlainSafe(u,l,i);l=u}d=d||p&&(c-h-1>n&&e[h+1]!==" ")}if(!f&&!d){if(m&&!a&&!o(e)){return Fe}return s===Me?Ve:Le}if(r>9&&needIndentIndicator(e)){return Ve}if(!a){return d?qe:Ue}return s===Me?Ve:Le}function writeScalar(e,t,r,n,o){e.dump=function(){if(t.length===0){return e.quotingType===Me?'""':"''"}if(!e.noCompatMode){if(Ie.indexOf(t)!==-1||Re.test(t)){return e.quotingType===Me?'"'+t+'"':"'"+t+"'"}}var s=e.indent*Math.max(1,r);var a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s);var c=n||e.flowLevel>-1&&r>=e.flowLevel;function testAmbiguity(t){return testImplicitResolving(e,t)}switch(chooseScalarStyle(t,c,e.indent,a,testAmbiguity,e.quotingType,e.forceQuotes&&!n,o)){case Fe:return t;case Le:return"'"+t.replace(/'/g,"''")+"'";case Ue:return"|"+blockHeader(t,e.indent)+dropEndingNewline(indentString(t,s));case qe:return">"+blockHeader(t,e.indent)+dropEndingNewline(indentString(foldString(t,a),s));case Ve:return'"'+escapeString(t)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function blockHeader(e,t){var r=needIndentIndicator(e)?String(t):"";var n=e[e.length-1]==="\n";var o=n&&(e[e.length-2]==="\n"||e==="\n");var s=o?"+":n?"":"-";return r+s+"\n"}function dropEndingNewline(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}function foldString(e,t){var r=/(\n+)([^\n]*)/g;var n=function(){var n=e.indexOf("\n");n=n!==-1?n:e.length;r.lastIndex=n;return foldLine(e.slice(0,n),t)}();var o=e[0]==="\n"||e[0]===" ";var s;var a;while(a=r.exec(e)){var i=a[1],c=a[2];s=c[0]===" ";n+=i+(!o&&!s&&c!==""?"\n":"")+foldLine(c,t);o=s}return n}function foldLine(e,t){if(e===""||e[0]===" ")return e;var r=/ [^ ]/g;var n;var o=0,s,a=0,i=0;var c="";while(n=r.exec(e)){i=n.index;if(i-o>t){s=a>o?a:i;c+="\n"+e.slice(o,s);o=s+1}a=i}c+="\n";if(e.length-o>t&&a>o){c+=e.slice(o,a)+"\n"+e.slice(a+1)}else{c+=e.slice(o)}return c.slice(1)}function escapeString(e){var t="";var r=0;var n;for(var o=0;o<e.length;r>=65536?o+=2:o++){r=codePointAt(e,o);n=je[r];if(!n&&isPrintable(r)){t+=e[o];if(r>=65536)t+=e[o+1]}else{t+=n||encodeHex(r)}}return t}function writeFlowSequence(e,t,r){var n="",o=e.tag,s,a,i;for(s=0,a=r.length;s<a;s+=1){i=r[s];if(e.replacer){i=e.replacer.call(r,String(s),i)}if(writeNode(e,t,i,false,false)||typeof i==="undefined"&&writeNode(e,t,null,false,false)){if(n!=="")n+=","+(!e.condenseFlow?" ":"");n+=e.dump}}e.tag=o;e.dump="["+n+"]"}function writeBlockSequence(e,t,r,n){var o="",s=e.tag,a,i,c;for(a=0,i=r.length;a<i;a+=1){c=r[a];if(e.replacer){c=e.replacer.call(r,String(a),c)}if(writeNode(e,t+1,c,true,true,false,true)||typeof c==="undefined"&&writeNode(e,t+1,null,true,true,false,true)){if(!n||o!==""){o+=generateNextLine(e,t)}if(e.dump&&le===e.dump.charCodeAt(0)){o+="-"}else{o+="- "}o+=e.dump}}e.tag=s;e.dump=o||"[]"}function writeFlowMapping(e,t,r){var n="",o=e.tag,s=Object.keys(r),a,i,c,u,l;for(a=0,i=s.length;a<i;a+=1){l="";if(n!=="")l+=", ";if(e.condenseFlow)l+='"';c=s[a];u=r[c];if(e.replacer){u=e.replacer.call(r,c,u)}if(!writeNode(e,t,c,false,false)){continue}if(e.dump.length>1024)l+="? ";l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" ");if(!writeNode(e,t,u,false,false)){continue}l+=e.dump;n+=l}e.tag=o;e.dump="{"+n+"}"}function writeBlockMapping(e,t,r,n){var o="",s=e.tag,a=Object.keys(r),c,u,l,f,d,p;if(e.sortKeys===true){a.sort()}else if(typeof e.sortKeys==="function"){a.sort(e.sortKeys)}else if(e.sortKeys){throw new i("sortKeys must be a boolean or a function")}for(c=0,u=a.length;c<u;c+=1){p="";if(!n||o!==""){p+=generateNextLine(e,t)}l=a[c];f=r[l];if(e.replacer){f=e.replacer.call(r,l,f)}if(!writeNode(e,t+1,l,true,true,true)){continue}d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024;if(d){if(e.dump&&le===e.dump.charCodeAt(0)){p+="?"}else{p+="? "}}p+=e.dump;if(d){p+=generateNextLine(e,t)}if(!writeNode(e,t+1,f,true,d)){continue}if(e.dump&&le===e.dump.charCodeAt(0)){p+=":"}else{p+=": "}p+=e.dump;o+=p}e.tag=s;e.dump=o||"{}"}function detectType(e,t,r){var n,o,s,a,c,u;o=r?e.explicitTypes:e.implicitTypes;for(s=0,a=o.length;s<a;s+=1){c=o[s];if((c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t==="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(r){if(c.multi&&c.representName){e.tag=c.representName(t)}else{e.tag=c.tag}}else{e.tag="?"}if(c.represent){u=e.styleMap[c.tag]||c.defaultStyle;if(ae.call(c.represent)==="[object Function]"){n=c.represent(t,u)}else if(ie.call(c.represent,u)){n=c.represent[u](t,u)}else{throw new i("!<"+c.tag+'> tag resolver accepts not "'+u+'" style')}e.dump=n}return true}}return false}function writeNode(e,t,r,n,o,s,a){e.tag=null;e.dump=r;if(!detectType(e,r,false)){detectType(e,r,true)}var c=ae.call(e.dump);var u=n;var l;if(n){n=e.flowLevel<0||e.flowLevel>t}var f=c==="[object Object]"||c==="[object Array]",d,p;if(f){d=e.duplicates.indexOf(r);p=d!==-1}if(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0){o=false}if(p&&e.usedDuplicates[d]){e.dump="*ref_"+d}else{if(f&&p&&!e.usedDuplicates[d]){e.usedDuplicates[d]=true}if(c==="[object Object]"){if(n&&Object.keys(e.dump).length!==0){writeBlockMapping(e,t,e.dump,o);if(p){e.dump="&ref_"+d+e.dump}}else{writeFlowMapping(e,t,e.dump);if(p){e.dump="&ref_"+d+" "+e.dump}}}else if(c==="[object Array]"){if(n&&e.dump.length!==0){if(e.noArrayIndent&&!a&&t>0){writeBlockSequence(e,t-1,e.dump,o)}else{writeBlockSequence(e,t,e.dump,o)}if(p){e.dump="&ref_"+d+e.dump}}else{writeFlowSequence(e,t,e.dump);if(p){e.dump="&ref_"+d+" "+e.dump}}}else if(c==="[object String]"){if(e.tag!=="?"){writeScalar(e,e.dump,t,s,u)}}else if(c==="[object Undefined]"){return false}else{if(e.skipInvalid)return false;throw new i("unacceptable kind of an object to dump "+c)}if(e.tag!==null&&e.tag!=="?"){l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21");if(e.tag[0]==="!"){l="!"+l}else if(l.slice(0,18)==="tag:yaml.org,2002:"){l="!!"+l.slice(18)}else{l="!<"+l+">"}e.dump=l+" "+e.dump}}return true}function getDuplicateReferences(e,t){var r=[],n=[],o,s;inspectNode(e,r,n);for(o=0,s=n.length;o<s;o+=1){t.duplicates.push(r[n[o]])}t.usedDuplicates=new Array(s)}function inspectNode(e,t,r){var n,o,s;if(e!==null&&typeof e==="object"){o=t.indexOf(e);if(o!==-1){if(r.indexOf(o)===-1){r.push(o)}}else{t.push(e);if(Array.isArray(e)){for(o=0,s=e.length;o<s;o+=1){inspectNode(e[o],t,r)}}else{n=Object.keys(e);for(o=0,s=n.length;o<s;o+=1){inspectNode(e[n[o]],t,r)}}}}}function dump$1(e,t){t=t||{};var r=new State(t);if(!r.noRefs)getDuplicateReferences(e,r);var n=e;if(r.replacer){n=r.replacer.call({"":n},"",n)}if(writeNode(r,0,n,true,true))return r.dump+"\n";return""}var Be=dump$1;var ze={dump:Be};function renamed(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. "+"Use yaml."+t+" instead, which is now safe by default.")}}var Ke=f;var He=d;var Ye=y;var Ge=E;var We=C;var Je=L;var Ze=se.load;var Qe=se.loadAll;var Xe=ze.dump;var et=i;var tt={binary:A,float:S,map:m,null:g,pairs:D,set:F,timestamp:x,bool:v,int:b,merge:O,omap:I,seq:h,str:p};var rt=renamed("safeLoad","load");var nt=renamed("safeLoadAll","loadAll");var ot=renamed("safeDump","dump");var st={Type:Ke,Schema:He,FAILSAFE_SCHEMA:Ye,JSON_SCHEMA:Ge,CORE_SCHEMA:We,DEFAULT_SCHEMA:Je,load:Ze,loadAll:Qe,dump:Xe,YAMLException:et,types:tt,safeLoad:rt,safeLoadAll:nt,safeDump:ot};const at=null&&st;var it=__nccwpck_require__(5747);var ct=__nccwpck_require__.n(it);const readFile=e=>{const t=Ze(ct().readFileSync(e).toString());if(!t){return new Error("Unable to read file")}return t};var ut=__nccwpck_require__(2426);var lt=__nccwpck_require__.n(ut);const ft=new(lt());const dt={type:"object",definitions:{baseUrl:{type:"string"},links:{type:"array",items:{type:"object",properties:{url:{type:"string"},statusCode:{type:"number"},method:{type:"string"},body:{type:"string"}},additionalProperties:false,required:["url","statusCode","method"]}}},properties:{baseUrl:{$ref:"#/definitions/baseUrl"},links:{$ref:"#/definitions/links"}},additionalProperties:false,required:["links"]};const pt=ft.compile(dt);const isInputFileValid=e=>!!pt(e);var ht=__nccwpck_require__(2186);function isError(e){return e instanceof Error}function isSuccess(e){return!isError(e)}var mt=__nccwpck_require__(467);var yt=__nccwpck_require__.n(mt);var gt=undefined&&undefined.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const vt=["GET","POST","PUT","PATCH","OPTIONS","HEAD"];const makeRequest=(e,t,r)=>gt(void 0,void 0,void 0,(function*(){let n={method:e};if(e in["POST","PUT"]){n["body"]=r}return yt()(t,n)}));const trimSlashes=e=>{if(e){return e.replace(/\/$/,"").replace(/^\//,"")}return e};const checkLink=(e,t)=>gt(void 0,void 0,void 0,(function*(){const{method:r,statusCode:n,body:o}=e;const s=t!==undefined?`${trimSlashes(t)}/${trimSlashes(e.url)}`:e.url;if(!vt.includes(r)){throw new Error(`${r} is not allowed to be used`)}const a=yield makeRequest(r,s,o||"");return{url:s,statusCode:n,method:r,success:a.status===n,responseStatusCode:a.status}}));const checkAllLinks=e=>gt(void 0,void 0,void 0,(function*(){return Promise.all(e.links.map((t=>gt(void 0,void 0,void 0,(function*(){return checkLink(t,e.baseUrl)})))))}));var bt=undefined&&undefined.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};function run(){return bt(this,void 0,void 0,(function*(){try{const e=ht.getInput("file");ht.info(`Reading links file at: ${e}`);if(!e){const e="The 'file' input parameter was not provided";ht.setFailed(e);return}const t=readFile(e);if(isError(t)){ht.setFailed(`Couldn't read file: ${t.message}`);return}if(!isInputFileValid(t)){ht.setFailed("Input file was not valid");return}const r=t;const n=yield checkAllLinks(r);for(const e of n){if(e.success){ht.info(`PASS: ${e.method} ${e.url} - ${e.statusCode}`)}else{ht.info(`FAIL: ${e.method} ${e.url} - Expected ${e.statusCode}, got: ${e.responseStatusCode}`)}}}catch(e){ht.setFailed(e.message)}}))}run()})();module.exports=__webpack_exports__})();
//# sourceMappingURL=index.js.map